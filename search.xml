<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>【C++】 详解 lower_bound 和 upper_bound 函数</title>
      <link href="/2025/09/24/c-xiang-jie-lower-bound-he-upper-bound-han-shu-kan-bu-dong-lai-chui-wo-lowerbound-he-upperbound-csdn-bo-ke/"/>
      <url>/2025/09/24/c-xiang-jie-lower-bound-he-upper-bound-han-shu-kan-bu-dong-lai-chui-wo-lowerbound-he-upperbound-csdn-bo-ke/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="【C-】-详解-lower-bound-和-upper-bound-函数"><a href="#【C-】-详解-lower-bound-和-upper-bound-函数" class="headerlink" title="【C++】 详解 lower_bound 和 upper_bound 函数"></a>【C++】 详解 lower_bound 和 upper_bound 函数</h1><blockquote><h2 id="Excerpt"><a href="#Excerpt" class="headerlink" title="Excerpt"></a>Excerpt</h2><p>文章浏览阅读8.5w次，点赞303次，收藏730次。本文详细介绍了C++中的lower_bound和upper_bound函数，这两个函数用于在有序数组中查找第一个大于等于或大于特定值的元素位置。作者通过实例和底层实现解析了它们的工作原理，并分享了常考面试题的解决方案。</p></blockquote><hr><p><strong>目录</strong></p><p><a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t0">一、前言</a></p><p><a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t1">二、函数详解</a> </p><p> <a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t2">🥝 lower_bound</a></p><p><a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t3">⚡无自定义比较函数</a></p><p><a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t4">⚡使用自定义比较函数</a></p><p> <a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#%C2%A0%E2%9C%A8%20%E8%87%AA%E5%B7%B1%E5%86%99--%E8%87%AA%E5%AE%9A%E4%B9%89%E6%AF%94%E8%BE%83%E5%87%BD%E6%95%B0">✨ 自己写–自定义比较函数</a></p><p> <a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#%C2%A0%E2%9C%A8%20%E5%AE%98%E6%96%B9%E7%9A%84--%E8%87%AA%E5%AE%9A%E4%B9%89%E6%AF%94%E8%BE%83%E5%87%BD%E6%95%B0">✨ 官方的–自定义比较函数</a></p><p><a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t5">🍍upper_bound</a></p><p><a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t6">⚡无自定义比较函数</a></p><p><a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t7">⚡使用自定义比较函数</a> </p><p> <a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#%C2%A0%E2%9C%A8%20%E8%87%AA%E5%B7%B1%E5%86%99--%E8%87%AA%E5%AE%9A%E4%B9%89%E6%AF%94%E8%BE%83%E5%87%BD%E6%95%B0">✨ 自己写–自定义比较函数</a></p><p> <a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#%C2%A0%E2%9C%A8%20%E5%AE%98%E6%96%B9%E7%9A%84--%E8%87%AA%E5%AE%9A%E4%B9%89%E6%AF%94%E8%BE%83%E5%87%BD%E6%95%B0">✨ 官方的–自定义比较函数</a></p><p><a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t8">🍇 upper_bound 和 lower_bound 的区别</a></p><p> <a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t9">三、常考面试题</a></p><p> <a href="https://blog.csdn.net/weixin_45031801/article/details/137544229#t10">四、共勉</a></p><hr><h2 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a><strong>一、前言</strong></h2><blockquote><p>这两个函数是我在 <strong>LeetCode</strong> 上做题见到，看到不熟悉的函数 lower_bound 和 upper_bound让我感觉很难受，于是在 <strong>C++</strong> 官网去学习，例子就一个是最基础的，我看明白了。虽然是两个函数的接口就两个，<strong>但是有时候看别人使用的时候，里面参数还可以放不同的仿函数，我懵逼了。</strong>就去网上搜，但是大家讲解的都是它的第一个接口。我只能再把文档一遍一遍过，代码一遍遍的尝试，调试。<strong>最终通过查阅资料将其总结如下。</strong></p></blockquote><h2 id="二、函数详解"><a href="#二、函数详解" class="headerlink" title="二、函数详解"></a><strong>二、函数详解</strong></h2><blockquote><p>        首先，大家都说用这两个函数之前必须是在<strong>有序的数组</strong>中，但是都没有说明为什么是在有序的数组，因为他们的<strong>底层实现是二分查找</strong>（这个也是我在别人的题解的时候知道的）。如果对<strong>二分查找</strong>有不清楚的伙伴可以看看这篇文章：<a href="https://blog.csdn.net/weixin_45031801/article/details/137439994" title="详解二分查找">详解二分查找</a></p></blockquote><blockquote><p><strong>函数的头文件： #include <algorithm></strong></p></blockquote><h3 id="🥝-lower-bound"><a href="#🥝-lower-bound" class="headerlink" title="🥝 lower_bound"></a><strong>🥝 lower_bound</strong></h3><blockquote><p> <strong>函数原型：</strong></p></blockquote><p><strong>原型1</strong>：</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">template &lt;class ForwardIterator, class T&gt;ForwardIterator lower_bound (ForwardIterator first, ForwardIterator last, const T&amp; val);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p> <strong>原型2</strong>：</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">template &lt;class ForwardIterator, class T, class Compare&gt;ForwardIterator lower_bound (ForwardIterator first, ForwardIterator last, const T&amp; val, Compare comp);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p><strong>模板参数解释：</strong></p></blockquote><ol><li> <strong>ForwardIterator就是一个迭代器</strong>，vector&lt; int &gt; v，v数组的首元素就是 v.begin()</li><li> <strong>T&amp;val</strong> , 就是一个T类型的变量</li><li> <strong>Compare 就是一个比较器</strong>，可以传仿函数对象，也可以传函数指针</li></ol><blockquote><p> <strong>函数作用：</strong></p></blockquote><ul><li>  <strong>前提是有序的情况下</strong>，<strong>lower_bound</strong> <strong>返回指向第一个值不小于 val 的位置，<strong><strong>也就是返回第一个大于等于val值的位置。</strong></strong>（通过二分查找）</strong> </li></ul><blockquote><p><strong>参数、返回值含义 :</strong></p></blockquote><ol><li> <strong>first,last</strong>: 迭代器在排序序列的起始位置和终止位置，使用的范围是[first,last).包括first到last位置中的所有元素</li><li> <strong>val</strong>: 在[first,last)下，也就是区分（找到大于等于val值的位置，返回其迭代器）</li><li> <strong>comp</strong>： 主要针对于原型二，传一个函数对象，或者函数指针，按照它的方式来比较</li><li> <strong>返回值</strong>：返回一个迭代器，指向第一个大于等于val的位置</li></ol><blockquote><p> <strong>举例说明：</strong></p></blockquote><h4 id="⚡无自定义比较函数"><a href="#⚡无自定义比较函数" class="headerlink" title="⚡无自定义比较函数"></a><strong>⚡无自定义比较函数</strong></h4><p> <strong>原型一 例1</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">template &lt;class ForwardIterator, class T&gt;ForwardIterator lower_bound (ForwardIterator first, ForwardIterator last, const T&amp; val);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;using namespace std;int main()&#123;vector&lt;int&gt; v &#x3D; &#123; 3,4,1,2,8 &#125;;&#x2F;&#x2F; 先排序sort(v.begin(), v.end()); &#x2F;&#x2F; 1 2 3 4 8&#x2F;&#x2F; 定义两个迭代器变量vector&lt;int&gt;::iterator iter1;vector&lt;int&gt;::iterator iter2;&#x2F;&#x2F; 在动态数组中寻找 &gt;&#x3D;3 出现的第一个数 并以迭代器的形式返回iter1 &#x3D; lower_bound(v.begin(), v.end(), 3); &#x2F;&#x2F; -- 指向3&#x2F;&#x2F; 在动态数组中寻找 &gt;&#x3D;7 出现的第一个数 并以迭代器的形式返回iter2 &#x3D; lower_bound(v.begin(), v.end(), 7); &#x2F;&#x2F; -- 指向8cout &lt;&lt; distance(v.begin(), iter1) &lt;&lt; endl; &#x2F;&#x2F;下标 2cout &lt;&lt; distance(v.begin(), iter2) &lt;&lt; endl; &#x2F;&#x2F;下标 4return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p> <strong>注意：</strong>需要注意的是如果例子中（val &gt;= 8）,那么迭代器就会指向last位置，<strong>也就是数组尾元素的下一个，不管val多大，迭代器永远指向尾元素的下一个位置</strong></p></blockquote><hr><h4 id="⚡使用自定义比较函数"><a href="#⚡使用自定义比较函数" class="headerlink" title="⚡使用自定义比较函数"></a><strong>⚡使用自定义比较函数</strong></h4><p><strong>原型二例2</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">template &lt;class ForwardIterator, class T, class Compare&gt;ForwardIterator lower_bound (ForwardIterator first, ForwardIterator last, const T&amp; val, Compare comp);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="✨-自己写–自定义比较函数"><a href="#✨-自己写–自定义比较函数" class="headerlink" title="✨ 自己写–自定义比较函数"></a><strong>✨ 自己写–自定义比较函数</strong></h5><blockquote><p> <strong>返回 第一个 false 的元素     val 是自定义函数中的 第二个参数</strong></p></blockquote><ul><li>  <strong>可能大家不太能理解这句话，这里给大家举两个例子</strong> </li></ul><p><strong>例子1：</strong> <strong>找到 第 1 个小于 20 的元素</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 自定义函数&#x2F;&#x2F; 目的是 找出 大于等于 val 的元素bool cmp(const int&amp; e, const int&amp; val)&#123;return e &gt;&#x3D; val;&#125;int main()&#123;&#x2F;&#x2F; 有序数组---从大到小vector&lt;int&gt; v &#x3D; &#123; 30,28,26,25,21,20,19,16,1 &#125;;&#x2F;&#x2F; lower_bound 的目的：找出第一个 false 自定义函数的值---即 第 1 个 &lt; 20 的元素vector&lt;int&gt;::iterator it &#x3D; lower_bound(v.begin(), v.end(), 20, cmp);if (it &#x3D;&#x3D; v.end())cout &lt;&lt; &quot;未找到满足条件的元素&quot; &lt;&lt; endl;else&#123;cout &lt;&lt; *it &lt;&lt; endl; &#x2F;&#x2F; 找到的元素为：19cout &lt;&lt; it - v.begin() &lt;&lt; endl; &#x2F;&#x2F; 下标为：6&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>例子2：</strong> <strong>找到第 1 个 无法 被 5 整除 的元素</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 自定义函数&#x2F;&#x2F; 目的是 找出 能够整除 val 的元素bool cmp(const int&amp; e, const int&amp; val)&#123;return (e % val) &#x3D;&#x3D; 0;&#125;int main()&#123;&#x2F;&#x2F; 有序数组---从大到小vector&lt;int&gt; v &#x3D; &#123; 30,28,26,25,21,20,19,16,1 &#125;;&#x2F;&#x2F; lower_bound 的目的：找出第一个 false 自定义函数的值---即 第 1 个 无法被 val整除 的元素vector&lt;int&gt;::iterator it &#x3D; lower_bound(v.begin(), v.end(), 5, cmp);if (it &#x3D;&#x3D; v.end())cout &lt;&lt; &quot;未找到满足条件的元素&quot; &lt;&lt; endl;else&#123;cout &lt;&lt; *it &lt;&lt; endl; &#x2F;&#x2F; 找到的元素为：28cout &lt;&lt; it - v.begin() &lt;&lt; endl; &#x2F;&#x2F; 下标为：1&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="✨-官方的–自定义比较函数"><a href="#✨-官方的–自定义比较函数" class="headerlink" title="✨ 官方的–自定义比较函数"></a><strong>✨ 官方的–自定义比较函数</strong></h5><blockquote><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">lower_bound( begin , end , val , less&lt;type&gt;() )<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>  上述代码中加入了 <strong>less<type>() 自定义比较函数：</strong>适用于<strong>从小到大排序</strong>的有序序列，从数组/容器的 <strong>beign</strong> 位置起，到 <strong>end-1</strong> 位置结束，查找<strong>第一个</strong> <strong>大于等于</strong> <strong>val 的数字</strong></li></ul><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">lower_bound( begin , end , val , greater&lt;type&gt;() )<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>  上述代码中加入了 <strong>greater<type>() 自定义比较函数：</strong>适用于<strong>从大到小排序</strong>的有序序列，从数组/容器的 <strong>beign</strong> 位置起，到 <strong>end-1</strong> 位置结束，查找<strong>第一个 小于****等于</strong> <strong>val 的数字</strong></li></ul></blockquote><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;using namespace std;int main()&#123;vector&lt;int&gt; v &#x3D; &#123; 3, 4, 1, 2, 8 &#125;; &#x2F;&#x2F; 无序数组&#x2F;&#x2F; 定义两个迭代器变量vector&lt;int&gt;::iterator iter1;vector&lt;int&gt;::iterator iter2;&#x2F;&#x2F; 排序默认为 ： 从小到大sort(v.begin(), v.end());&#x2F;&#x2F;此时数组为 v &#x3D; &#123;1,2,3,4,8&#125;&#x2F;&#x2F;找 第一个大于 等于 val 的数字iter1 &#x3D; lower_bound(v.begin(), v.end(), 2, less&lt;int&gt;());iter2 &#x3D; lower_bound(v.begin(), v.end(), 9, less&lt;int&gt;());cout &lt;&lt; iter1 - v.begin() &lt;&lt; endl; &#x2F;&#x2F;下标 所以就是 1cout &lt;&lt; iter2 - v.begin() &lt;&lt; endl; &#x2F;&#x2F;下标 所以就是 5&#x2F;&#x2F; 排序：从大到小sort(v.begin(), v.end(), greater&lt;int&gt;());&#x2F;&#x2F;此时数组为 v &#x3D; &#123;8，4，3，2，1&#125;&#x2F;&#x2F; 找 第一个小于 等于 val 的数字iter1 &#x3D; lower_bound(v.begin(), v.end(), 2, greater&lt;int&gt;());iter2 &#x3D; lower_bound(v.begin(), v.end(), 9, greater&lt;int&gt;());cout &lt;&lt; iter1 - v.begin() &lt;&lt; endl; &#x2F;&#x2F;下标 所以就是 3cout &lt;&lt; iter2 - v.begin() &lt;&lt; endl; &#x2F;&#x2F;下标 所以就是 0system(&quot;pause&quot;);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> <strong>原型三 例3</strong> <strong>仿函数传参</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">typedef struct Student&#123;int _id; &#x2F;&#x2F;学号int _num; &#x2F;&#x2F;排名Student(int id, int num):_id(id), _num(num)&#123;&#125;&#125;Stu;struct CompareV&#123;bool operator() (const Stu&amp; s1, const Stu&amp; s2)&#x2F;&#x2F; 排名升序&#123;return s1._num &lt; s2._num;&#125;&#125;;int main()&#123;vector&lt;Stu&gt; vS &#x3D; &#123; &#123; 101, 34 &#125;, &#123; 103, 39 &#125;, &#123; 102, 35 &#125; &#125;;&#x2F;&#x2F;CompareV()排完序后是这个丫子&#x2F;&#x2F;101 34&#x2F;&#x2F;102 35&#x2F;&#x2F;103 39auto iter &#x3D; lower_bound(vS.begin(), vS.end(), Stu(200,33), CompareV());cout &lt;&lt; iter - vS.begin() &lt;&lt; endl; &#x2F;&#x2F;我们就找到了按仿函数排序(找排名比33大的位置 就是0）system(&quot;pause&quot;);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> 我们了解了<a href="https://so.csdn.net/so/search?q=lower_bound&spm=1001.2101.3001.7020">lower_bound</a>的用法以后，我们再来了解一下lower_bound的原型实现 —-二分查找实现</p><blockquote><p><strong>lower_bound的底层实现</strong> </p></blockquote><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">int lower_bound(vector&lt;int&gt;&amp; nums, int x)&#123;int left &#x3D; 0;int right &#x3D; nums.size() - 1;&#x2F;&#x2F; 区间为 左闭右闭while (left &lt;&#x3D; right) &#123;int mid &#x3D; left +(right - left) &#x2F; 2;if (x &gt; nums[mid]) &#123;left &#x3D; mid + 1;&#125;else &#123;right &#x3D; mid - 1;&#125;&#125;return left;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="🍍upper-bound"><a href="#🍍upper-bound" class="headerlink" title="🍍upper_bound"></a><strong>🍍upper_bound</strong></h3><blockquote><p> <strong>函数作用：</strong></p></blockquote><ul><li>   <strong>前提是有序的情况下</strong>，<strong>upper_bound</strong> <strong>返回第一个大于–val值的位置。****（通过二分查找）</strong> </li><li>  用法和上面类似。<strong>只是把lower_bound的 【大于等于】 换成 【大于】</strong> 。仿函数等等<strong>全是相同的用法</strong> </li></ul><blockquote><p> <strong>举例说明：</strong></p></blockquote><h4 id="⚡无自定义比较函数-1"><a href="#⚡无自定义比较函数-1" class="headerlink" title="⚡无自定义比较函数"></a><strong>⚡无自定义比较函数</strong></h4><p> <strong>原型一 例1</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">int main()&#123;vector&lt;int&gt; v &#x3D; &#123; 3,4,1,2,8 &#125;;&#x2F;&#x2F; 先排序sort(v.begin(), v.end()); &#x2F;&#x2F; 1 2 3 4 8&#x2F;&#x2F; 定义两个迭代器变量vector&lt;int&gt;::iterator iter1;vector&lt;int&gt;::iterator iter2;&#x2F;&#x2F; 在动态数组中寻找 &gt;3 出现的第一个数 并以迭代器的形式返回iter1 &#x3D; upper_bound(v.begin(), v.end(), 3); &#x2F;&#x2F; -- 指向4&#x2F;&#x2F; 在动态数组中寻找 &gt;7 出现的第一个数 并以迭代器的形式返回iter2 &#x3D; upper_bound(v.begin(), v.end(), 7); &#x2F;&#x2F; -- 指向8cout &lt;&lt; distance(v.begin(), iter1) &lt;&lt; endl; &#x2F;&#x2F;下标 3cout &lt;&lt; distance(v.begin(), iter2) &lt;&lt; endl; &#x2F;&#x2F;下标 4return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h4 id="⚡使用自定义比较函数-1"><a href="#⚡使用自定义比较函数-1" class="headerlink" title="⚡使用自定义比较函数"></a><strong>⚡使用自定义比较函数</strong></h4><p> <strong>原型二 例2</strong></p><h5 id="✨-自己写–自定义比较函数-1"><a href="#✨-自己写–自定义比较函数-1" class="headerlink" title="✨ 自己写–自定义比较函数"></a><strong>✨ 自己写–自定义比较函数</strong></h5><blockquote><p>  </p><p><strong>返回 第一个 true 的元素     val 是自定义函数中的 第一个参数</strong></p><p>  <strong>返回第一个 满足 cmp (返回true) 的 元素 的迭代器</strong></p></blockquote><ul><li>   <strong>可能大家不太能理解这句话，这里给大家举两个例子</strong> </li></ul><p> <strong>例子1：****找到第一个大于 5 的元素，返回其迭代器</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 自定义函数&#x2F;&#x2F; 目的是 找出 大于 val 的元素bool cmp2(const int&amp; val, const int&amp; e)&#123;return val &lt; e;&#125;int main()&#123;&#x2F;&#x2F; 有序数组---从大到小vector&lt;int&gt; v &#x3D; &#123; 1,3,4,5,6,8,9 &#125;;&#x2F;&#x2F; upper_bound 的目的：找出第一个 true 自定义函数的值---即 第 1 个 大于 val 的元素vector&lt;int&gt;::iterator it &#x3D; upper_bound(v.begin(), v.end(), 5, cmp2);if (it &#x3D;&#x3D; v.end())cout &lt;&lt; &quot;未找到满足条件的元素&quot; &lt;&lt; endl;else&#123;cout &lt;&lt; *it &lt;&lt; endl; &#x2F;&#x2F; 找到的元素为：6cout &lt;&lt; it - v.begin() &lt;&lt; endl; &#x2F;&#x2F; 下标为：4&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>例子2：</strong> <strong>找到第一个能被 5 整除 的元素</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F; 自定义函数&#x2F;&#x2F; 目的是 找出 大于 val 的元素bool cmp2(const int&amp; val, const int&amp; e)&#123;return (e % val) &#x3D;&#x3D; 0;&#125;int main()&#123;&#x2F;&#x2F; 有序数组---从大到小vector&lt;int&gt; v &#x3D; &#123; 1,3,4,5,6,8,9 &#125;;&#x2F;&#x2F; upper_bound 的目的：找出第一个 true 自定义函数的值---即 第 1 个 能够被val整除 的元素vector&lt;int&gt;::iterator it &#x3D; upper_bound(v.begin(), v.end(), 5, cmp2);if (it &#x3D;&#x3D; v.end())cout &lt;&lt; &quot;未找到满足条件的元素&quot; &lt;&lt; endl;else&#123;cout &lt;&lt; *it &lt;&lt; endl; &#x2F;&#x2F; 找到的元素为：5cout &lt;&lt; it - v.begin() &lt;&lt; endl; &#x2F;&#x2F; 下标为：3&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="✨-官方的–自定义比较函数-1"><a href="#✨-官方的–自定义比较函数-1" class="headerlink" title="✨ 官方的–自定义比较函数"></a><strong>✨ 官方的–自定义比较函数</strong></h5><blockquote><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">upper_bound( begin , end , val , less&lt;type&gt;() )<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>  上述代码中加入了 <strong>less<type>() 自定义比较函数：</strong>适用于<strong>从小到大排序</strong>的有序序列，从数组/容器的 <strong>beign</strong> 位置起，到 <strong>end-1</strong> 位置结束，查找<strong>第一个</strong> <strong>大于</strong> <strong>val 的数字</strong></li></ul><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">upper_bound( begin , end , val , greater&lt;type&gt;() )<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>  上述代码中加入了 <strong>greater<type>() 自定义比较函数：</strong>适用于<strong>从大到小排序</strong>的有序序列，从数组/容器的 <strong>beign</strong> 位置起，到 <strong>end-1</strong> 位置结束，查找<strong>第一个 小****于</strong> <strong>val 的数字</strong></li></ul></blockquote><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">int main()&#123;vector&lt;int&gt; v &#x3D; &#123; 3, 4, 1, 2, 8 &#125;; &#x2F;&#x2F; 无序数组&#x2F;&#x2F; 定义两个迭代器变量vector&lt;int&gt;::iterator iter1;vector&lt;int&gt;::iterator iter2;&#x2F;&#x2F; 排序默认为 ： 从小到大sort(v.begin(), v.end());&#x2F;&#x2F;此时数组为 v &#x3D; &#123;1,2,3,4,8&#125;&#x2F;&#x2F;找 第一个大于 val 的数字iter1 &#x3D; upper_bound(v.begin(), v.end(), 2, less&lt;int&gt;());iter2 &#x3D; upper_bound(v.begin(), v.end(), 9, less&lt;int&gt;());cout &lt;&lt; iter1 - v.begin() &lt;&lt; endl; &#x2F;&#x2F;下标 所以就是 2cout &lt;&lt; iter2 - v.begin() &lt;&lt; endl; &#x2F;&#x2F;下标 所以就是 5&#x2F;&#x2F; 排序：从大到小sort(v.begin(), v.end(), greater&lt;int&gt;());&#x2F;&#x2F;此时数组为 v &#x3D; &#123;8，4，3，2，1&#125;&#x2F;&#x2F; 找 第一个小于 val 的数字iter1 &#x3D; upper_bound(v.begin(), v.end(), 2, greater&lt;int&gt;());iter2 &#x3D; upper_bound(v.begin(), v.end(), 9, greater&lt;int&gt;());cout &lt;&lt; iter1 - v.begin() &lt;&lt; endl; &#x2F;&#x2F;下标 所以就是 4cout &lt;&lt; iter2 - v.begin() &lt;&lt; endl; &#x2F;&#x2F;下标 所以就是 0system(&quot;pause&quot;);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>底层实现</strong> </p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">int upper_bound(vector&lt;int&gt;&amp; nums, int x) &#123;int left &#x3D; 0;int right &#x3D; nums.size() - 1;while (left &lt;&#x3D; right) &#123;int mid &#x3D; left +(right - left) &#x2F; 2;if (x &gt;&#x3D; nums[mid]) &#123; &#x2F;&#x2F;这里是大于等于left &#x3D; mid + 1;&#125;else &#123;right &#x3D; mid - 1;&#125;&#125;return left;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="🍇-upper-bound-和-lower-bound-的区别"><a href="#🍇-upper-bound-和-lower-bound-的区别" class="headerlink" title="🍇 upper_bound 和 lower_bound 的区别"></a><strong>🍇 upper_bound 和 lower_bound 的区别</strong></h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">auto it1 &#x3D; lower_bound(v.begin(), v.end(), val,cmp1);auto it2 &#x3D; upper_bound(v.begin(), v.end(), val,cmp2);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><table><tbody><tr><td></td><td><span><strong>lower_bound</strong></span></td><td><span><strong>upper_bound</strong></span></td></tr><tr><td><span><strong>无自定义比较函数</strong></span></td><td>返回第一个<span><strong> </strong></span><span><strong><span>&gt;= val</span></strong></span> 的元素</td><td>返回第一个<span><strong><span> &gt; val</span></strong></span> 的元素</td></tr><tr><td><span><strong>使用自定义比较函数</strong></span></td><td>返回 <span><strong><span>第一个 false</span></strong></span> 的元素</td><td>返回第一个<span><strong><span> true</span></strong></span> 的元素</td></tr></tbody></table><h2 id="三、常考面试题"><a href="#三、常考面试题" class="headerlink" title="三、常考面试题"></a><strong>三、常考面试题</strong></h2><blockquote><p><strong>题目：****在排序数组中查找元素的第一个和最后一个</strong><br><strong>链接：</strong><a href="https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/" title="34. 在排序数组中查找元素的第一个和最后一个位置">34. 在排序数组中查找元素的第一个和最后一个位置</a></p></blockquote><p><img src="https://i-blog.csdnimg.cn/blog_migrate/6ae968d689a32bfb0059d1f562388bae.png"></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">class Solution &#123;public:vector&lt;int&gt; searchRange(vector&lt;int&gt;&amp; nums, int target)&#123;if(nums.size()&#x3D;&#x3D;0)&#123;return &#123;-1,-1&#125;;&#125;&#x2F;&#x2F; 返回第一个 大于等于 target 的迭代器auto index1 &#x3D; lower_bound(nums.begin(),nums.end(),target);&#x2F;&#x2F; 返回第一个 大于 target 的迭代器auto index2 &#x3D; upper_bound(nums.begin(),nums.end(),target);&#x2F;&#x2F; 这个值不存在 或者 这个数不存在if(index1&#x3D;&#x3D;nums.end() || *index1!&#x3D;target)&#123;return &#123;-1,-1&#125;;&#125;&#x2F;&#x2F; 存在return &#123;(int)distance(nums.begin(),index1),(int)distance(nums.begin(),index2-1)&#125;;&#125;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> c++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> 语法 </tag>
            
            <tag> 函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++-cin/cin.get/cin.getline()详解</title>
      <link href="/2025/09/24/c-zhi-cincin.getcin.getline-xiang-jie-cthon-bo-ke-yuan/"/>
      <url>/2025/09/24/c-zhi-cincin.getcin.getline-xiang-jie-cthon-bo-ke-yuan/</url>
      
        <content type="html"><![CDATA[<h1 id="c-之cin-cin-get-cin-getline-详解"><a href="#c-之cin-cin-get-cin-getline-详解" class="headerlink" title="c++之cin/cin.get/cin.getline()详解"></a>c++之cin/cin.get/cin.getline()详解</h1><blockquote><h2 id="Excerpt"><a href="#Excerpt" class="headerlink" title="Excerpt"></a>Excerpt</h2><p>C++输入过程中，是把输入加载到缓冲区中，然后对缓冲区中的字符进行读取。cin，cin,get(),cin.getline()三个函数虽然都能进行数据读取，但是它们对缓冲区内数据的处理方法是不同的（如遇到[space],[enter]的处理方法)。本文将简单介绍cin,cin.get(),cin.g</p></blockquote><hr><p> C++输入过程中，是把输入加载到缓冲区中，然后对缓冲区中的字符进行读取。cin，cin,get(),cin.getline()三个函数虽然都能进行数据读取，但是它们对缓冲区内数据的处理方法是不同的（如遇到[space],[enter]的处理方法)。本文将简单介绍cin,cin.get(),cin.getline()的基本用法，从根本上解释它们对缓冲区数据的处理方法。</p><p><strong>1.cin的基本用法</strong></p><p>    结束条件：<strong>[enter],[space],[tab]</strong></p><p>    处理方法：cin遇到缓冲区中的[enter],[space],[tab]会结束当前输入，并<strong>舍弃</strong>[enter],[space],[tab]，继续下一项输入，当有连续[space],[enter,[tab]会全部舍弃。</p><p>程序1：</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include&lt;iostream&gt;  using namespace std;  int main()  &#123;  char a\[10\],b\[10\];  cin&gt;&gt;a;cin&gt;&gt;b;  cout&lt;&lt;a&lt;&lt;endl&lt;&lt;b&lt;&lt;endl;  &#125;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>输入</th><th>输出</th></tr></thead><tbody><tr><td>1234[enter]5678[enter]</td><td>1234  【此处换行】   5678</td></tr><tr><td>1234[enter][enter[enter]   …   [enter]5678[enter]</td><td>1234  【此处换行】 5678   （说明不管缓冲区中有几个enter，cin都会无视，直到不是enter开始继续读入）tab，space同理</td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr></tbody></table><p>综上：cin的输入很简单，整体的看输入，遇到[enter],[space],[tab]表示当前输入结束，下一个输入从非[enter],[sapce],[tab]开始，两输入间无线多个[space][]enter[tab]都是无效的</p><p><strong>2.cin.get()基本用法</strong></p><p><strong>（1）一参数</strong></p><p>用法：a = cin.get()  或者  cin.get(a)</p><p>结束条件：输入字符足够后回车</p><p>说明：这个是<strong>单字符</strong>的输入，用途是输入一个字符，把它的ASCALL码存入到a中</p><p>处理方法：与cin不同，cin.get()在缓冲区<strong>遇到[enter]，[space]，[tab]不会作为舍弃</strong>，而是继续留在缓冲区中</p><p>程序2: </p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include&lt;iostream&gt;  using namespace std;  int main()  &#123;  char a,b,c,d;  a &#x3D; cin.get();  b &#x3D; cin.get();  c &#x3D; cin.get();  d &#x3D; cin.get();  cout&lt;&lt;int(a)&lt;&lt;&#39;,&#39;&lt;&lt;int(b)&lt;&lt;&#39;,&#39;&lt;&lt;int(c)&lt;&lt;&#39;,&#39;&lt;&lt;int(d)&lt;&lt;endl;  &#125;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>输入</th><th>输出</th></tr></thead><tbody><tr><td>[enter]</td><td>不会结束，因为需要输入4个字符才结束（结束需要字符数够后回车）</td></tr><tr><td>[enter][enter][enter][enter]</td><td>10,10,10,10</td></tr><tr><td>abcdef[enter]</td><td>97,98,99,100   字符太多时取前几个</td></tr><tr><td>[tab][enter][space]a[enter]</td><td>9,10,32,97（分别为[tab]，[enter]，[space]，a的ASCALL码）不舍弃[enter],[tab],[space],统一看成字符</td></tr></tbody></table><p>综上，一参数的cin.get()当输入字符足够后回车结束输入，把回车[enter],空格[space]也看成字符，在缓冲区中遇到不舍弃。当输入过多时，取前几个。</p><p><strong>（2）二参数</strong></p><p>用法：cin.get(arrayname,size)  把字符输入到arrayname中，长度不超过size</p><p>注释：arrayname<strong>必须是char[]类型</strong>，即char数组类型，<strong>不可以为string类型</strong>；<strong>size是指输入长度，即允许输入的最大长度</strong>。</p><p>处理方法：假设把数据输入到 char a[arraylength],数组长度为arraylength。cin.get(a,size)—size,arraylength不同可以分为四类：</p><p>类1：输入串长&lt;size，输入串长&gt;arraylength，会自动扩张arrayname大小，使能保存所有数据</p><p>例1：char a[10];cin,get(a,20);</p><p>输入：123456789012[enter]</p><p>输出a数组：123456789012 可以发现，输入12个字符到a[10]中，系统自动扩充a[10]，此时实际数组长为13（‘123456789012’\0’’）。但当计算sizeof(a)时，还是现实为10</p><p>类2：输入串长&lt;size，输入串长&lt;arraylength，把串全部输入，后面补‘\0’</p><p>例2：char a[10];cin.get(a,20);</p><p>输入：12345[enter] </p><p>输出：12345，此时数组内数据为‘12345‘\0’’</p><p>类3：输入串长&gt;size，先截取size个字符，若还是大于arraylength，则输入前arraylength-1个字符，最后补充‘\0’</p><p>例3：char a[5];cin,get(a,10);</p><p>输入：123456789012[enter]</p><p>输出：123456789   先截取了9个字符变成‘123456789‘/0‘’，然后放入到a中，a自动扩张长度</p><p>类4：输入串长&gt;size，先截取size个字符，若小于arraylength，则把截取串放入数组中，最后补充‘\0’</p><p>例4：char a[15],cin.get(a,10)</p><p>输入：123456789012[enter]</p><p>输出：123456789   此时数组内为‘123456789‘\0’’   注意：前size-1有效，最后一个补‘\0’</p><p>综上：当吧大于数组长度的字符串放出char a[arraylength]中，系统自动扩张数组a的长度使a能放得下，但是这么做容易产生运行错误</p><p><strong>（3）三参数</strong></p><p>用法：cin.get(arrayname,size,s)  把数据输入到arrayname字符数组中，当到达<strong>长度size时结束</strong>或者<strong>遇到字符s时结束</strong></p><p>注释：a必须是字符数组，即char a[]l类型，<strong>不可为string类型</strong>；size为最大的输入长度；s为控制，遇到s则当前输入结束，s不会被输入到变量</p><p>程序3： </p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include&lt;iostream&gt;  using namespace std;  int main()  &#123;  int i;  char a[10];  cin.get(a,10,&#39;.&#39;);  cout&lt;&lt;a;  &#125;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>输入</th><th>输出</th></tr></thead><tbody><tr><td>abc.123</td><td>abc    （遇到  ’.‘ 输入结束）</td></tr></tbody></table><p><strong>3.cin.getline()基本用法</strong></p><p>cin.getline()的用法和cin.get()用法大致相同，没有一参数用法，只有二参数，三参数两类</p><p>cin.gerline(arrayname,size)</p><p>cin.getline(arrayname,size,s)用法与cin.get()效果大致相同，但也有些区别</p><p><strong>（1）cin.getline(arrayname,size)与cin.get(arrayname,size)的区别</strong></p><p><strong>cin.get</strong>(arrayname,size)当遇到[enter]时会结束目前输入，他<strong>不会删除缓冲区中的[enter]</strong></p><p><strong>cin.getline</strong>(arrayname,size)当遇到[enter]时会结束当前输入，但是<strong>会删除缓冲区中的[enter]</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include&lt;iostream&gt;  using namespace std;  int main()  &#123;  char a[10];char b;  cin.get(a,10);  cin.get(b);  cout&lt;&lt;a&lt;&lt;endl&lt;&lt;int(b);  &#125;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>输入</th><th>输出</th></tr></thead><tbody><tr><td>12345[enter]</td><td>12345 【换行】 10</td></tr></tbody></table><p>说明：cin.get(a,10)把12345到a中，遇到[enter]结束，但是不把[enter]删除，则把[enter]输入到b中，（enter的ASCALL码为10）</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include&lt;iostream&gt;  using namespace std;  int main()  &#123;  char a[10];char b;  cin.getline(a,10);  cin.get(b);  cout&lt;&lt;a&lt;&lt;endl&lt;&lt;int(b);  &#125;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>输入</th><th>输出</th></tr></thead><tbody><tr><td>12345[enter]a[enter]</td><td>12345【换行】97</td></tr></tbody></table><p>说明：cin.getline(a,10)吧12345输入到a中，遇到{enter}结束，并把缓冲区中[enter]删除，把接下来的a输入到b中 </p><p><strong>（2）cin.getline(arrayname,size,s)与cin.gei(arrayname,size,s)的区别</strong></p><p><strong>cin.getline</strong>(arrayname,size,s)当遇到s时会结束输入，并<strong>把s从缓冲区中删除</strong></p><p><strong>cin.get</strong>（arrayname,size,s）当遇到s时会结束输入，但<strong>不会删除缓冲区中的s</strong></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include&lt;iostream&gt;  using namespace std;  int main()  &#123;  char a[10];char b;  cin.get(a,10,&#39;,&#39;);  cin.get(b);  cout&lt;&lt;a&lt;&lt;endl&lt;&lt;b;  &#125;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>输入</th><th>输出</th></tr></thead><tbody><tr><td>12345,[enter]</td><td>12345【换行】，</td></tr></tbody></table><p>说明：cin,get不会删除缓冲区的，</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include&lt;iostream&gt;  using namespace std;  int main()  &#123;  char a[10];char b;  cin.getline(a,10,&#39;,&#39;);  cin.get(b);  cout&lt;&lt;a&lt;&lt;endl&lt;&lt;int(b);  &#125;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>输入</th><th>输出</th></tr></thead><tbody><tr><td>12345，[enter]</td><td>12345【换行】10</td></tr></tbody></table><p>说明：cin.getline吧12345输入到a中，遇到’，‘结束，并删除缓冲区的’，‘，后面的[enter]输入到b中</p><p><strong>4.运用—以任何符号作为输入分隔符</strong></p><p>例题：输入五个学生的名字，每个学生的名字不超过10个字符，输入时学生名字之间用逗号隔开，把这五个名字存储并换行输出</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include&lt;iostream&gt;  using namespace std;  int main()  &#123;  char a[5][10];  int i;  for(i&#x3D;0;i&lt;4;i++)  cin.getline(a[i],10,&#39;,&#39;);  cin.getline(a[i],10);  for(i&#x3D;0;i&lt;5;i++)  cout&lt;&lt;a[i]&lt;&lt;endl;  &#125;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这样我们就可以完成完成用任何符号作为分割符的输入了！此处getline换成get是不行的，因为cin.get不会删除缓冲区中的分隔符’，‘  后续输入不能继续进行</p><p><strong>补充：getlinge()函数</strong></p><p>getline函数其实有两个：</p><p>　　一个是全局函数，include<cstring>, 原型是istream&amp; getline( istream&amp; is, string&amp; str, char delim)与 istream&amp; getline( istream&amp; is, string&amp; str) ,得到的字符串存在一个string类型的str里。</p><p>　　另一个是iostream类的成员函数, include<iostream>, 原型是 istream&amp; getline( char * str, streamsize n, char delim ) 与 istream&amp; getline( char * str, streamsize n ) , 得到的字符串存在一个C-style字符数组str里。（值得注意的是，这个n应该小于字符数组str的长度，因为至少要留一个位置存放结束符’\0’，后面这个还要探讨一下）</p><p>　　有关getline函数：参考一下这篇博客：<a href="https://blog.csdn.net/qq/_33001647/article/details/54863824">https://blog.csdn.net/qq\_33001647/article/details/54863824</a></p>]]></content>
      
      
      <categories>
          
          <category> c++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> 语法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>七牛云配置图床</title>
      <link href="/2023/03/14/qi-niu-yun-pei-zhi-tu-chuang/"/>
      <url>/2023/03/14/qi-niu-yun-pei-zhi-tu-chuang/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"/><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>在做md时，经常需要使用图片，但是文件一多，不仅管理不方便，分享给别人时图片也是一个问题，所以想设置一个图床来存储图片。</p><p>这里使用的是<a href="https://portal.qiniu.com/home">七牛云</a>，因为有免费的10G空间</p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>进入<a href="https://portal.qiniu.com/home">七牛云</a>登陆后，在左上角选择申请空间</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314172600542.png" alt="image-20230314172600542"></p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314172647503.png" alt="image-20230314172647503"></p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314172921995.png" alt="image-20230314172921995"></p><p>创建完成后，进入概览进行配置</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314173057779.png" alt="image-20230314173057779"></p><p>新创建的空间会分配一个为期30天的测试域名，若域名过期则不可以访问这个空间</p><p>所以最好自己定义一个域名</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314173419682.png" alt="image-20230314173419682"></p><p>加速域名可以使用一级域名（如lqqq.ren）,也可以使用二级域名(如pic.lqqq.ren)</p><blockquote><p>使用场景选择<strong>图片小文件</strong></p><p>其余默认</p></blockquote><p><img src="http://picgo.lqlqlq.ren/img/image-20230314173554256.png" alt="image-20230314173554256"></p><p>在创建的时候，如果是第一次创建，可能需要验证域名所有权</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314174945410.png" alt="image-20230314174945410"></p><p>前往你的域名解析服务商，如腾讯云</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314180049704.png" alt="image-20230314180049704"></p><p>添加成功后，在七牛云选择验证即可</p><p>创建成功后，配置CNAME</p><blockquote><p><strong>CNAME 简介</strong><br> CNAME 即指别名记录，也被称为规范名字。一般用来把域名解析到别的域名上，当需要将域名指向另一个域名，再由另一个域名提供 ip 地址，就需要添加 CNAME 记录。</p><p><strong>为什么使用CDN需要CNAME记录？</strong></p><p> 在七牛云开发者平台创建加速域名后，会给域名分配一个 “CNAME域名”（例：cdn-example-com.qiniudns.com）。用户需要在域名服务商处，配置一条 CNAME 记录，将访问加速域名的请求指向这个 cdn-example-com.qiniudns.com 域名记录，生效后访问加速域名时解析将会正式指向七牛云 CDN ，之后由 CDN 完成调度，使得该域名所有的请求都开始享有 CDN 加速效果。</p></blockquote><p>在域名管理处复制加速域名的CNAME</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314180309923.png" alt="image-20230314180309923"></p><p>去域名解析商添加记录</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314180710995.png" alt="image-20230314180710995"></p><table><thead><tr><th align="left">参数</th><th align="left">填写说明</th><th align="left">注意事项</th></tr></thead><tbody><tr><td align="left">主机记录</td><td align="left">填写加速域名对应的主机前缀</td><td align="left">若加速域名使用二级域名，则填前缀，若使用的是一级域名，则填@</td></tr><tr><td align="left">记录类型</td><td align="left">选择 CNAME 类型</td><td align="left">该参数唯一，请勿自定义</td></tr><tr><td align="left">线路类型</td><td align="left">保持默认</td><td align="left">该参数可以根据需求自行调整</td></tr><tr><td align="left">记录值</td><td align="left">域名创建后，七牛提供的 <a href="https://developer.qiniu.com/fusion/kb/1322/how-to-configure-cname-domain-name#cname"><strong>CNAME</strong></a></td><td align="left">该参数唯一，请勿自定义</td></tr><tr><td align="left">TTL</td><td align="left">保持默认</td><td align="left">该参数可以根据需求自行调整</td></tr></tbody></table><p><strong>主机记录说明</strong></p><table><thead><tr><th align="left">创建的加速域名</th><th align="left">域名类型</th><th align="left">主机记录</th></tr></thead><tbody><tr><td align="left">qiniu.com</td><td align="left">普通域名</td><td align="left">@</td></tr><tr><td align="left"><a href="http://www.qiniu.com/">www.qiniu.com</a></td><td align="left">普通域名</td><td align="left">www</td></tr><tr><td align="left">cdn.qiniu.com</td><td align="left">普通域名</td><td align="left">cdn</td></tr><tr><td align="left">video.cdn.qiniu.com</td><td align="left">普通域名</td><td align="left">video.cdn</td></tr></tbody></table><p>保存后返回七牛云，等待一会后可以看到配置成功</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314181141548.png" alt="image-20230314181141548"></p><h2 id="typora添加图床"><a href="#typora添加图床" class="headerlink" title="typora添加图床"></a>typora添加图床</h2><p>在偏好设置中设置图床</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314181354974.png" alt="image-20230314181354974"></p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314181552678.png" alt="image-20230314181552678"></p><p>可以选择PicGo-Core(command line) 或者PicGo(app)两者都可</p><p>PicGo-Core(command line)下载较慢，下载完成后，点击打开配置文件</p><p>等待一段时间后会打开一个内容为空的配置文件，需要自己手动配置</p><p>将以下信息输入</p><blockquote><p>{<br>  “picBed”: {<br>    “current”: “qiniu”,<br>    “uploader”: “qiniu”,<br>    “smms”: {<br>      “token”: “”<br>    },<br>    “qiniu”: {<br>      “accessKey”: “”,//你的七牛云密钥AK<br>      “secretKey”: “”,//你的密钥SK<br>      “bucket”: “”,//空间名称<br>      “url”: “”,//你的加速域名<br>      “area”: “”,//空间区域代号<br>      “options”: “”,//网址后缀，不用填<br>      “path”: “img/“//自定义存储路径，填img/即可<br>    }<br>  }</p></blockquote><p><strong>注意：加速域名url要填完整的域名，如<a href="http://picgo.lqlqlq.ren,用picgo.lqlqlq.ren在typora可能无法显示图片/">http://picgo.lqlqlq.ren,用picgo.lqlqlq.ren在typora可能无法显示图片</a></strong></p><p>密钥在七牛云个人中心获取</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314182325546.png" alt="image-20230314182325546"></p><p>区域代号</p><table><thead><tr><th align="left">存储区域 Region</th><th align="left">区域 Region ID</th></tr></thead><tbody><tr><td align="left">华东-浙江</td><td align="left">z0</td></tr><tr><td align="left">华东-浙江2</td><td align="left">cn-east-2</td></tr><tr><td align="left">华北-河北</td><td align="left">z1</td></tr><tr><td align="left">华南-广东</td><td align="left">z2</td></tr><tr><td align="left">北美-洛杉矶</td><td align="left">na0</td></tr><tr><td align="left">亚太-新加坡（原东南亚）</td><td align="left">as0</td></tr><tr><td align="left">亚太-首尔</td><td align="left">ap-northeast-1</td></tr></tbody></table><p>也可使用PicGo(app)，下载安装PicGO后，设置信息</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314183046327.png" alt="image-20230314183046327"></p><p>并在typora的设置中将PicGo的运行程序.exe地址填入</p><p><img src="http://picgo.lqlqlq.ren/img/image-20230314183143357.png" alt="image-20230314183143357"></p><p>使用app可以不用配置文件，但是每次使用时都需要打开PicGo应用</p>]]></content>
      
      
      <categories>
          
          <category> 实用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> 域名 </tag>
            
            <tag> 实用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>注解RabbitListener与RabbitHandler及消息序列化MessageConvert</title>
      <link href="/2022/05/05/rabbitlistener-yu-rabbithandler-ji-xiao-xi-xu-lie-hua/"/>
      <url>/2022/05/05/rabbitlistener-yu-rabbithandler-ji-xiao-xi-xu-lie-hua/</url>
      
        <content type="html"><![CDATA[<hr><h2 id="RabbitListener与-RabbitHandler及消息序列化MessageConvert"><a href="#RabbitListener与-RabbitHandler及消息序列化MessageConvert" class="headerlink" title="@RabbitListener与@RabbitHandler及消息序列化MessageConvert"></a>@RabbitListener与@RabbitHandler及消息序列化MessageConvert</h2><ul><li>  涉及网络传输的应用序列化不可避免，发送端以某种规则将消息转成 byte 数组进行发送，接收端则以约定的规则进行 byte[] 数组的解析</li><li>  RabbitMQ 的序列化是指 Message 的 body 属性，即我们真正需要传输的内容，<strong>RabbitMQ 抽象出一个 MessageConvert 接口处理消息的序列化</strong>，其实现有 SimpleMessageConverter（默认）、Jackson2JsonMessageConverter 等</li><li>  当调用了 convertAndSend 方法时会使用 MessageConvert 进行消息的序列化</li><li>  <strong>SimpleMessageConverter 对于要发送的消息体 body 为 byte[] 时不进行处理，如果是 String 则转成字节数组,如果是 Java 对象，则使用 jdk 序列化将消息转成字节数组，转出来的结果较大，含class类名，类相应方法等信息。因此性能较差</strong></li><li>  当使用 RabbitMQ 作为中间件时，数据量比较大，此时就要考虑使用类似 Jackson2JsonMessageConverter 等序列化形式以此提高性能</li></ul><h2 id="RabbitListener用法"><a href="#RabbitListener用法" class="headerlink" title="@RabbitListener用法"></a>@RabbitListener用法</h2><ul><li>  使用 @RabbitListener 注解标记方法，当监听到队列 debug 中有消息时则会进行接收并处理</li></ul><pre class="line-numbers language-none"><code class="language-none">@RabbitListener(queues &#x3D; &quot;debug&quot;)public void processMessage1(Message bytes) &#123;    System.out.println(new String(bytes));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ul><li>消息处理方法参数是由 MessageConverter 转化，若使用自定义 MessageConverter 则需要在 RabbitListenerContainerFactory 实例中去设置（默认 Spring 使用的实现是 SimpleRabbitListenerContainerFactory）</li><li>消息的 content_type 属性表示消息 body 数据以什么数据格式存储，接收消息除了使用 Message 对象接收消息（包含消息属性等信息）之外，还可直接使用对应类型接收消息 body 内容，但若方法参数类型不正确会抛异常：<ul><li>  <strong>application/octet-stream</strong>：二进制字节数组存储，使用 byte[]</li><li>  <strong>application/x-java-serialized-object</strong>：java 对象序列化格式存储，使用 Object、相应类型（反序列化时类型应该同包同名，否者会抛出找不到类异常）</li><li>  <strong>text/plain</strong>：文本数据类型存储，使用 String</li><li>  <strong>application/json</strong>：JSON 格式，使用 Object、相应类型</li></ul></li></ul><p><img src="https://upload-images.jianshu.io/upload_images/9434708-77b9d3222ae376cd.png"></p><p>ZiVg2.png</p><h2 id="Payload-与-Headers"><a href="#Payload-与-Headers" class="headerlink" title="@Payload 与 @Headers"></a>@Payload 与 @Headers</h2><ul><li>  使用 @Payload 和 @Headers 注解可以消息中的 body 与 headers 信息</li></ul><pre class="line-numbers language-none"><code class="language-none">@RabbitListener(queues &#x3D; &quot;debug&quot;)public void processMessage1(@Payload String body, @Headers Map&lt;String,Object&gt; headers) &#123;    System.out.println(&quot;body：&quot;+body);    System.out.println(&quot;Headers：&quot;+headers);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>  也可以获取单个 Header 属性</li></ul><pre class="line-numbers language-none"><code class="language-none">@RabbitListener(queues &#x3D; &quot;debug&quot;)public void processMessage1(@Payload String body, @Header String token) &#123;    System.out.println(&quot;body：&quot;+body);    System.out.println(&quot;token：&quot;+token);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="通过-RabbitListener-注解声明-Binding"><a href="#通过-RabbitListener-注解声明-Binding" class="headerlink" title="通过 @RabbitListener 注解声明 Binding"></a>通过 @RabbitListener 注解声明 Binding</h3><ul><li>  通过 @RabbitListener 的 bindings 属性声明 Binding（若 RabbitMQ 中不存在该绑定所需要的 Queue、Exchange、RouteKey 则自动创建，若存在则抛出异常）</li></ul><pre class="line-numbers language-none"><code class="language-none">@RabbitListener(bindings &#x3D; @QueueBinding(        exchange &#x3D; @Exchange(value &#x3D; &quot;topic.exchange&quot;,durable &#x3D; &quot;true&quot;,type &#x3D; &quot;topic&quot;),        value &#x3D; @Queue(value &#x3D; &quot;consumer_queue&quot;,durable &#x3D; &quot;true&quot;),        key &#x3D; &quot;key.#&quot;))public void processMessage1(Message message) &#123;    System.out.println(message);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="RabbitListener-和-RabbitHandler-搭配使用"><a href="#RabbitListener-和-RabbitHandler-搭配使用" class="headerlink" title="@RabbitListener 和 @RabbitHandler 搭配使用"></a>@RabbitListener 和 @RabbitHandler 搭配使用</h2><ul><li>  @RabbitListener 可以标注在类上面，需配合 @RabbitHandler 注解一起使用</li><li>  @RabbitListener 标注在类上面表示当有收到消息的时候，就交给 @RabbitHandler 的方法处理，具体使用哪个方法处理，根据 MessageConverter 转换后的参数类型</li></ul><pre class="line-numbers language-none"><code class="language-none">@Component@RabbitListener(queues &#x3D; &quot;consumer_queue&quot;)public class Receiver &#123;    @RabbitHandler    public void processMessage1(String message) &#123;        System.out.println(message);    &#125;    @RabbitHandler    public void processMessage2(byte[] message) &#123;        System.out.println(new String(message));    &#125;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Message-内容对象序列化与反序列化"><a href="#Message-内容对象序列化与反序列化" class="headerlink" title="Message 内容对象序列化与反序列化"></a>Message 内容对象序列化与反序列化</h2><h3 id="使用-Java-序列化与反序列化"><a href="#使用-Java-序列化与反序列化" class="headerlink" title="使用 Java 序列化与反序列化"></a>使用 Java 序列化与反序列化</h3><ul><li>  默认的 SimpleMessageConverter 在发送消息时会将对象序列化成字节数组，若要反序列化对象，需要自定义 MessageConverter</li></ul><pre class="line-numbers language-none"><code class="language-none">@Configurationpublic class RabbitMQConfig &#123;    @Bean    public RabbitListenerContainerFactory&lt;?&gt; rabbitListenerContainerFactory(ConnectionFactory connectionFactory)&#123;        SimpleRabbitListenerContainerFactory factory &#x3D; new SimpleRabbitListenerContainerFactory();        factory.setConnectionFactory(connectionFactory);        factory.setMessageConverter(new MessageConverter() &#123;            @Override            public Message toMessage(Object object, MessageProperties messageProperties) throws MessageConversionException &#123;                return null;            &#125;            @Override            public Object fromMessage(Message message) throws MessageConversionException &#123;                try(ObjectInputStream ois &#x3D; new ObjectInputStream(new ByteArrayInputStream(message.getBody())))&#123;                    return (User)ois.readObject();                &#125;catch (Exception e)&#123;                    e.printStackTrace();                    return null;                &#125;            &#125;        &#125;);        return factory;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">@Component@RabbitListener(queues &#x3D; &quot;consumer_queue&quot;)public class Receiver &#123;    @RabbitHandler    public void processMessage1(User user) &#123;        System.out.println(user.getName());    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="使用-JSON-序列化与反序列化"><a href="#使用-JSON-序列化与反序列化" class="headerlink" title="使用 JSON 序列化与反序列化"></a>使用 JSON 序列化与反序列化</h3><ul><li>  RabbitMQ 提供了 Jackson2JsonMessageConverter 来支持消息内容 JSON 序列化与反序列化</li><li>  消息发送者在发送消息时应设置 MessageConverter 为 Jackson2JsonMessageConverter</li></ul><pre class="line-numbers language-none"><code class="language-none">rabbitTemplate.setMessageConverter(new Jackson2JsonMessageConverter());<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>  发送消息</li></ul><pre class="line-numbers language-none"><code class="language-none">User user &#x3D; new User(&quot;linyuan&quot;);rabbitTemplate.convertAndSend(&quot;topic.exchange&quot;,&quot;key.1&quot;,user);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>  消息消费者也应配置 MessageConverter 为 Jackson2JsonMessageConverter</li></ul><pre class="line-numbers language-none"><code class="language-none">@Configurationpublic class RabbitMQConfig &#123;        @Bean    public RabbitListenerContainerFactory&lt;?&gt; rabbitListenerContainerFactory(ConnectionFactory connectionFactory)&#123;        SimpleRabbitListenerContainerFactory factory &#x3D; new SimpleRabbitListenerContainerFactory();        factory.setConnectionFactory(connectionFactory);        factory.setMessageConverter(new Jackson2JsonMessageConverter());        return factory;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>  消费消息</li></ul><pre class="line-numbers language-none"><code class="language-none">@Component@RabbitListener(queues &#x3D; &quot;consumer_queue&quot;)public class Receiver &#123;    @RabbitHandler    public void processMessage1(@Payload User user) &#123;        System.out.println(user.getName());    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>  <strong>注意</strong>：被序列化对象应提供一个无参的构造函数，否则会抛出异常</li></ul>]]></content>
      
      
      <categories>
          
          <category> 后端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 后端 </tag>
            
            <tag> RabbitMQ </tag>
            
            <tag> 分布式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>跨域问题</title>
      <link href="/2022/03/16/kua-yu-wen-ti/"/>
      <url>/2022/03/16/kua-yu-wen-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>前端调用后端提供的 API 来获取数据，很多都是前后端分离的架构</p><p>前端调用的后端接口不属于同一个域（域名或端口不同），就会产生跨域问题，也就是说你的应用访问了该应用域名或端口之外的域名或端口。</p><p>跨域是指跨域名的访问，以下情况都属于跨域：</p><table><thead><tr><th align="left">跨域原因说明</th><th align="left">示例</th></tr></thead><tbody><tr><td align="left">域名不同</td><td align="left"><a href="http://www.jd.com/">www.jd.com</a> 与 <a href="http://www.taobao.com/">www.taobao.com</a></td></tr><tr><td align="left">域名相同，端口不同</td><td align="left"><a href="http://www.jd.com:8080/">www.jd.com:8080</a> 与 <a href="http://www.jd.com:8081/">www.jd.com:8081</a></td></tr><tr><td align="left">二级域名不同</td><td align="left">item.jd.com 与 miaosha.jd.com</td></tr></tbody></table><h3 id="为什么有跨域问题？"><a href="#为什么有跨域问题？" class="headerlink" title="为什么有跨域问题？"></a>为什么有跨域问题？</h3><p>跨域不一定会有跨域问题。因为跨域问题是浏览器对于ajax请求的一种安全限制：<strong>一个页面发起的ajax请求，只能是于当前页同域名的路径</strong>，这能有效的阻止跨站攻击。</p><p>因此：<strong>跨域问题 是针对ajax的一种限制，也是浏览防止攻击的一种方式</strong>。</p><p>但是这却给我们的开发带来了不变，而且在实际生成环境中，肯定会有很多台服务器之间交互，地址和端口都可能不同，怎么办</p><h2 id="后端的解决办法"><a href="#后端的解决办法" class="headerlink" title="后端的解决办法"></a>后端的解决办法</h2><h3 id="细粒度的解决"><a href="#细粒度的解决" class="headerlink" title="细粒度的解决"></a>细粒度的解决</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/*origins： 允许可访问的域列表maxAge:准备响应前的缓存持续的最大时间（以秒为单位）。放在controller或者方法上，也可以两个同时放并且设置不同的注解值*/</span><span class="token comment">//@CrossOrigin(origins = "http://domain2.com",maxAge = 69)//解决跨域-为整个controller</span><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@CrossOrigin</span><span class="token punctuation">(</span>origins <span class="token operator">=</span> <span class="token string">"http://domain2.com"</span><span class="token punctuation">,</span>maxAge <span class="token operator">=</span> <span class="token number">69</span><span class="token punctuation">)</span><span class="token comment">//解决跨域</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Hello!"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h3><h4 id="CorsFilter"><a href="#CorsFilter" class="headerlink" title="CorsFilter"></a>CorsFilter</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>cors<span class="token punctuation">.</span></span><span class="token class-name">CorsConfiguration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>cors<span class="token punctuation">.</span></span><span class="token class-name">UrlBasedCorsConfigurationSource</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>filter<span class="token punctuation">.</span></span><span class="token class-name">CorsFilter</span><span class="token punctuation">;</span><span class="token comment">//全局配置解决跨域</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Corsconfig</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">CorsFilter</span> <span class="token function">corsFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">CorsConfiguration</span> corsConfiguration <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CorsConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        corsConfiguration<span class="token punctuation">.</span><span class="token function">addAllowedOrigin</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//允许哪些域</span>        corsConfiguration<span class="token punctuation">.</span><span class="token function">addAllowedHeader</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//允许哪些请求字段</span>        corsConfiguration<span class="token punctuation">.</span><span class="token function">addAllowedMethod</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//允许哪些请求方法</span>        <span class="token class-name">UrlBasedCorsConfigurationSource</span> source<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">UrlBasedCorsConfigurationSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        source<span class="token punctuation">.</span><span class="token function">registerCorsConfiguration</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">,</span>corsConfiguration<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CorsFilter</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="WebMvcConfigurer"><a href="#WebMvcConfigurer" class="headerlink" title="WebMvcConfigurer"></a>WebMvcConfigurer</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">CorsRegistry</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">InterceptorRegistry</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebMvcConfigurer</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Webmvc</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCorsMappings</span><span class="token punctuation">(</span><span class="token class-name">CorsRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        registry<span class="token punctuation">.</span><span class="token function">addMapping</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">allowedOriginPatterns</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">allowedHeaders</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">allowedMethods</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span><span class="token string">"POST"</span><span class="token punctuation">,</span><span class="token string">"PUT"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">allowCredentials</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment">//是否允许携带cookie</span>                <span class="token punctuation">.</span><span class="token function">maxAge</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//多少秒内浏览器可以不询问</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>琴谱</title>
      <link href="/2022/02/27/qin-pu/"/>
      <url>/2022/02/27/qin-pu/</url>
      
        <content type="html"><![CDATA[<h1 id="请回答1988"><a href="#请回答1988" class="headerlink" title="请回答1988"></a>请回答1988</h1><p>中括号高音，小括号低音</p><p>12133345<br>55567【1】7653<br>（5）5321<br>2345652<br>12133345<br>55567【1】7653<br>（5）5321<br>2345655</p><p>345 【21】777【1】7<br>656【1】65<br>321 1 331<br>2112 35535</p><p>345 【21】777【1】7<br>656【1】65<br>321 1 331<br>2112 35535</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>JAVAEE笔记</title>
      <link href="/2022/01/20/javaee-bi-ji/"/>
      <url>/2022/01/20/javaee-bi-ji/</url>
      
        <content type="html"><![CDATA[<p>get里面只可以获取URL中的参数</p><p>post可以获取URL和body中的参数</p><h2 id="request"><a href="#request" class="headerlink" title="request"></a>request</h2><h2 id="response"><a href="#response" class="headerlink" title="response"></a>response</h2><h3 id="设置响应数据"><a href="#设置响应数据" class="headerlink" title="设置响应数据"></a>设置响应数据</h3><p>响应数据分为3个部分</p><p>1、响应行：<code>HTTP/1.1 200 OK</code></p><p><code>void setStatus(int sc)</code>:设置响应状态码</p><p>2、响应头：<code>Content-Type：text/html</code></p><p><code>void setHeader(String name,String value)</code>:设置响应头键值对</p><p>3、响应体：如图片，html信息等</p><p><code>PrintWriter getWriter():</code>获取字符输出流</p><p><code>ServletOutputStream getOutputStream()</code>:获取字节输出流</p><h3 id="完成重定向"><a href="#完成重定向" class="headerlink" title="完成重定向"></a>完成重定向</h3><p>特点</p><ol><li>浏览器地址变化 </li><li>可以重定向到任意位置的资源（外部内部都可） </li><li>是两次请求，不能在多个资源之间使用Request共享数据</li></ol><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;        &#x2F;&#x2F;1. 设置状态码&#x2F;&#x2F;        response.setStatus(302);&#x2F;&#x2F;        &#x2F;&#x2F;2.设置响应头&#x2F;&#x2F;        response.setHeader(&quot;location&quot;,&quot;&#x2F;demo2&quot;);        &#x2F;&#x2F;重定向的简写方式        response.sendRedirect(&quot;&#x2F;demo2&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="路径问题"><a href="#路径问题" class="headerlink" title="路径问题"></a>路径问题</h3><p>什么时候路径需要加虚拟目录？</p><p>浏览器使用–&gt;加虚拟目录</p><p>服务端使用–&gt;不加虚拟目录</p><p>加虚拟目录时建议使用<code>request.getContextPath()</code></p><p>如</p><p>加虚拟目录</p><p>《a herf=》</p><p>《form action=》</p><p>response.sendRedierct(“”)</p><p>不加虚拟目录</p><p>request.getRequestDispatcher(“”)</p><h3 id="响应字符数据"><a href="#响应字符数据" class="headerlink" title="响应字符数据"></a>响应字符数据</h3><h3 id="响应字节数据"><a href="#响应字节数据" class="headerlink" title="响应字节数据"></a>响应字节数据</h3><h2 id="会话跟踪技术"><a href="#会话跟踪技术" class="headerlink" title="会话跟踪技术"></a>会话跟踪技术</h2><p>会话：</p><p>用户打开浏览器，访问web服务器的资源，会话建立，直到有一方断开连接，会话结束。</p><p>一次会话中可以包含｛%  color red 多次 %｝请求和响应。</p><p>6次请求，3个会话</p><p><img src="http://picgo.lqlqlq.ren/img/76be3db4b0e7cffa578caf69a3dc9cdc.jpg"></p><p>会话跟踪:一种维护浏览器状态的方法，服务器需要识别多次请求是否来自于同一浏览器，以便在 同一次会话的<strong>多次请求间共享数据</strong>。</p><p>为什么无法在浏览器和服务器不支持数据共享呢?</p><ol><li>浏览器和服务器之间使用的是HTTP请求来进行数据传输</li><li>HTTP协议是无状态的，每次浏览器向服务器请求时，服务器都会将该请求视为新的请求 </li><li>HTTP协议设计成无状态的目的是让每次请求之间相互独立，互不影响 </li><li>请求与请求之间独立后，就无法实现多次请求之间的数据共享</li></ol><p>会话跟踪技术的具体实现方式：</p><p>客户端：Cookie</p><p>服务端：Session</p><p>Cookie是存储在浏览器端而Session是存储在服务器端</p><h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><h3 id="原理分析"><a href="#原理分析" class="headerlink" title="原理分析"></a>原理分析</h3><h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><h3 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h3><h3 id="基本使用-1"><a href="#基本使用-1" class="headerlink" title="基本使用"></a>基本使用</h3><h3 id="原理分析-1"><a href="#原理分析-1" class="headerlink" title="原理分析"></a>原理分析</h3><h3 id="钝化和活化"><a href="#钝化和活化" class="headerlink" title="钝化和活化"></a>钝化和活化</h3><p>钝化：在服务器正常关闭后，Tomcat会自动将Session数据写入硬盘的文件中</p><p>活化：再次启动服务器后，从文件中加载数据到Session</p><h2 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h2><h3 id="概念-2"><a href="#概念-2" class="headerlink" title="概念"></a>概念</h3><h3 id="执行流程"><a href="#执行流程" class="headerlink" title="执行流程"></a>执行流程</h3><h3 id="路径说明"><a href="#路径说明" class="headerlink" title="路径说明"></a>路径说明</h3><ul><li>拦截具体资源：/index.jsp—&gt;只有访问index.jsp时才会拦截</li><li>目录拦截：/user/*—&gt;访问/user下的所有资源，都会被拦截</li><li>后缀名拦截：*.jsp—&gt;访问后缀为jsp的资源都会被拦截</li><li>拦截所有：/*—&gt;访问所有的资源都会被拦截</li></ul><h3 id="Listener"><a href="#Listener" class="headerlink" title="Listener"></a>Listener</h3><p>监听器可以在application、session和request三个对象创建、销毁或者往其中添加修改删除属性时自动执行代码的功能组件</p><p> <img src="https://image.baidu.com/search/down?url=http://tva1.sinaimg.cn/large/008rg7orgy1gyjy0xf55fj30zq0ck7c9.jpg"></p><h3 id="基本使用-2"><a href="#基本使用-2" class="headerlink" title="基本使用"></a>基本使用</h3><p>定义类，实现接口</p><p>添加注解</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">filter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token annotation punctuation">@WebListener</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Listener</span> <span class="token keyword">implements</span> <span class="token class-name">ServletContextListener</span><span class="token punctuation">,</span> <span class="token class-name">HttpSessionListener</span><span class="token punctuation">,</span> <span class="token class-name">HttpSessionAttributeListener</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">Listener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/* This method is called when the servlet context is initialized(when the Web application is deployed). */</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/* This method is called when the servlet Context is undeployed or Application Server shuts down. */</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sessionCreated</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/* Session is created. */</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sessionDestroyed</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/* Session is destroyed. */</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attributeAdded</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> sbe<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/* This method is called when an attribute is added to a session. */</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attributeRemoved</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> sbe<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/* This method is called when an attribute is removed from a session. */</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attributeReplaced</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> sbe<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/* This method is called when an attribute is replaced in a session. */</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaEE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaEE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ajax笔记</title>
      <link href="/2022/01/18/ajax/"/>
      <url>/2022/01/18/ajax/</url>
      
        <content type="html"><![CDATA[<p>   之前都是使用jsp来获取后端Servlet传输到前端的数据，但是jsp的缺点有很多，现在一般都不用jsp</p><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p><strong>AJAX</strong>即“<strong>Asynchronous JavaScript and XML</strong>”（异步的<a href="https://zh.wikipedia.org/wiki/JavaScript">JavaScript</a>与<a href="https://zh.wikipedia.org/wiki/XML">XML</a>技术），指的是一套综合了多项技术的<a href="https://zh.wikipedia.org/wiki/%E7%80%8F%E8%A6%BD%E5%99%A8">浏览器</a>端<a href="https://zh.wikipedia.org/wiki/%E7%B6%B2%E9%A0%81">网页</a>开发技术。</p><p><strong>作用：</strong></p><ol><li>与服务器进行数据交换：通过AJAX可以给服务器发送请求，并获取服务器的响应数据(使用<strong>AJAX</strong>+<strong>HTML</strong>就可以替换JSP页面了)</li><li>异步交互：可以不重新加载整个页面的情况下，与服务器交换数据并更新部分的网页。像用户名校验、搜索联想等</li></ol><h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><ol><li><p>编写一个Servlet，用response输出字符串</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//1`获取请求参数</span>      <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">boolean</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>      <span class="token comment">//2`判断是否存在，这里简化</span>      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"zs"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>          flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>         <span class="token comment">//3`输出结果</span>      response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>flag<span class="token operator">+</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>创建XMLHttpRequest核心对象—&gt;用于和服务端交互</p><h3 id="XMLHttpRequest-对象方法"><a href="#XMLHttpRequest-对象方法" class="headerlink" title="XMLHttpRequest 对象方法"></a>XMLHttpRequest 对象方法</h3><table><thead><tr><th align="left">方法</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">new XMLHttpRequest()</td><td align="left">创建新的 XMLHttpRequest 对象</td></tr><tr><td align="left">abort()</td><td align="left">取消当前请求</td></tr><tr><td align="left">getAllResponseHeaders()</td><td align="left">返回头部信息</td></tr><tr><td align="left">getResponseHeader()</td><td align="left">返回特定的头部信息</td></tr><tr><td align="left">open(<em>method</em>, <em>url</em>, <em>async</em>, <em>user</em>, <em>psw</em>)</td><td align="left">规定请求method：请求类型 GET 或 POSTurl：文件位置async：true（异步）或 false（同步）user：可选的用户名称psw：可选的密码</td></tr><tr><td align="left">send()</td><td align="left">将请求发送到服务器，用于 GET 请求</td></tr><tr><td align="left">send(<em>string</em>)</td><td align="left">将请求发送到服务器，用于 POST 请求</td></tr><tr><td align="left">setRequestHeader()</td><td align="left">向要发送的报头添加标签/值对</td></tr></tbody></table><h3 id="XMLHttpRequest-对象属性"><a href="#XMLHttpRequest-对象属性" class="headerlink" title="XMLHttpRequest 对象属性"></a>XMLHttpRequest 对象属性</h3><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>onreadystatechange</td><td>定义当 readyState 属性发生变化时被调用的函数</td></tr><tr><td>readyState</td><td>保存 XMLHttpRequest 的状态。<br />0：请求未初始化<br />1：服务器连接已建立<br />2：请求已收到<br />3：正在处理请求<br />4：请求已完成且响应已就绪</td></tr><tr><td>responseText</td><td>以字符串返回响应数据</td></tr><tr><td>responseXML</td><td>以 XML 数据返回响应数据</td></tr><tr><td>status</td><td>返回请求的状态号<br />200: “OK”<br />403: “Forbidden”<br />404: “Not Found”<br />如需完整列表请访问 <a href="https://www.w3school.com.cn/tags/ref_httpmessages.asp">Http 消息参考手册</a></td></tr><tr><td>statusText</td><td>返回状态文本（比如 “OK” 或 “Not Found”）</td></tr></tbody></table><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//1`创建核心对象</span><span class="token keyword">var</span> xhttp<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// code for IE6, IE5</span>    xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>发送请求</p><table><thead><tr><th align="left">方法</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">open(<em>method</em>, <em>url</em>, <em>async</em>)</td><td align="left">规定请求的类型<br /><em>method</em>：请求的类型：GET 还是 POST<br /><em>url</em>：服务器（文件）位置<br /><em>async</em>：true（异步）或 false（同步）</td></tr><tr><td align="left">send()</td><td align="left">向服务器发送请求（用于 GET）</td></tr><tr><td align="left">send(<em>string</em>)</td><td align="left">向服务器发送请求（用于 POST）</td></tr></tbody></table><h5 id="GET-还是-POST？"><a href="#GET-还是-POST？" class="headerlink" title="GET 还是 POST？"></a>GET 还是 POST？</h5><p>GET 比 POST 更简单更快，可用于大多数情况下。</p><p>不过，请在以下情况始终使用 POST：</p><ul><li>缓存文件不是选项（更新服务器上的文件或数据库）</li><li>向服务器发送大量数据（POST 无大小限制）</li><li>发送用户输入（可包含未知字符），POST 比 GET 更强大更安全</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//2`向服务器发送请求</span>      xhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"http://localhost:8080/AJAX/demoServlet?username="</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>      xhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>获取响应数据</p><h3 id="onreadystatechange-属性"><a href="#onreadystatechange-属性" class="headerlink" title="onreadystatechange 属性"></a>onreadystatechange 属性</h3><table><thead><tr><th align="left">属性</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">onreadystatechange</td><td align="left">定义了当 readyState 属性发生改变时所调用的函数。</td></tr><tr><td align="left">readyState</td><td align="left">保存了 XMLHttpRequest 的状态。<br />0: 请求未初始化<br />1: 服务器连接已建立<br />2: 请求已接收<br />3: 正在处理请求<br />4: 请求已完成且响应已就绪</td></tr><tr><td align="left">status</td><td align="left">200: “OK”<br />403: “Forbidden”<br />404: “Page not found”<br />如需完整列表，请访问 <a href="https://www.w3school.com.cn/tags/ref_httpmessages.asp">Http 消息参考手册</a></td></tr><tr><td align="left">statusText</td><td align="left">返回状态文本（例如 “OK” 或 “Not Found”）</td></tr></tbody></table><p>每当 readyState 发生变化时就会调用 onreadystatechange 函数。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//3`获取响应</span>      xhttp<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>              <span class="token keyword">let</span> responseText <span class="token operator">=</span> xhttp<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token keyword">if</span><span class="token punctuation">(</span>responseText<span class="token operator">==</span><span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                  <span class="token comment">//用户名存在</span>                  <span class="token comment">//显示提示</span>                  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"userExit"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span>              <span class="token punctuation">&#125;</span>              <span class="token keyword">else</span><span class="token punctuation">&#123;</span>                  <span class="token comment">//用户名不存在</span>                  <span class="token comment">//不显示提示</span>                  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"userExit"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display<span class="token operator">=</span><span class="token string">"none"</span><span class="token punctuation">;</span>                 <span class="token punctuation">&#125;</span>          <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="http://picgo.lqlqlq.ren/img/d2306fc20a057f7995def3936b14543d.jpg"></p></li></ol><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userExit<span class="token punctuation">"</span></span>  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span> red</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>用户名已存在<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onblur</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> username<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span>        <span class="token comment">//1`创建核心对象</span>        <span class="token keyword">var</span> xhttp<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// code for IE6, IE5</span>            xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//2`向服务器发送请求</span>        xhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"http://localhost:8080/AJAX/demoServlet?username="</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>        xhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//3`获取响应</span>        xhttp<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">let</span> responseText <span class="token operator">=</span> xhttp<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>responseText<span class="token operator">==</span><span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token comment">//用户名存在</span>                    <span class="token comment">//显示提示</span>                    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"userExit"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">else</span><span class="token punctuation">&#123;</span>                    <span class="token comment">//用户名不存在</span>                    <span class="token comment">//不显示提示</span>                    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"userExit"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display<span class="token operator">=</span><span class="token string">"none"</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h2><p>Axios对原生的Ajax进行封装，简化书写</p><p>Axios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。</p><h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><ul><li>从浏览器中创建 <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequests</a></li><li>从 node.js 创建 <a href="http://nodejs.org/api/http.html">http</a> 请求</li><li>支持 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> API</li><li>拦截请求和响应</li><li>转换请求数据和响应数据</li><li>取消请求</li><li>自动转换 JSON 数据</li><li>客户端支持防御 <a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">XSRF</a></li></ul><h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><p>axios(js对象).then(回调函数)</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//1`发送get请求</span><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    method<span class="token operator">:</span><span class="token string">"get"</span><span class="token punctuation">,</span>    url<span class="token operator">:</span><span class="token string">"http://localhost:8080/AJAX/axiosdemo?username=zs"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//2`发送post请求</span><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    method<span class="token operator">:</span> <span class="token string">"post"</span><span class="token punctuation">,</span>    url<span class="token operator">:</span> <span class="token string">"/axiosdemo"</span><span class="token punctuation">,</span>    data<span class="token operator">:</span><span class="token string">"username=zs"</span><span class="token punctuation">,</span>    baseURL<span class="token operator">:</span><span class="token string">"http://localhost:8080/AJAX"</span><span class="token comment">//会自动加载url前面</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="使用别名"><a href="#使用别名" class="headerlink" title="使用别名"></a>使用别名</h4><p>为方便起见，为所有支持的请求方法提供了别名</p><p>在使用别名方法时， <code>url</code>、<code>method</code>、<code>data</code> 这些属性都不必在配置中指定。</p><p><strong>get请求</strong></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8080/AJAX/axiosdemo?username=zs"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>get请求也可以这样写参数</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8080/AJAX/axiosdemo"</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>    params<span class="token operator">:</span><span class="token punctuation">&#123;</span>username<span class="token operator">:</span><span class="token string">"zs"</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>post请求</strong></p><pre class="line-numbers language-none"><code class="language-none">axios.post(&quot;http:&#x2F;&#x2F;localhost:8080&#x2F;AJAX&#x2F;axiosdemo&quot;,&#123;    username:&quot;zs&quot;&#125;).then(    function (res)&#123;        document.getElementById(&quot;content&quot;).innerHTML&#x3D;res.data;    &#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p>JSON: <strong>JavaScript Object Notation</strong>(JavaScript 对象表示法)</p><p>JSON 是存储和交换文本信息的语法，类似 XML。</p><p>JSON 比 XML 更小、更快，更易解析。</p><p><img src="http://tva1.sinaimg.cn/large/008rg7orgy1gylgy7n5xbj307u0cyq40.jpg"></p><h3 id="JSON数据和JAVA对象转换"><a href="#JSON数据和JAVA对象转换" class="headerlink" title="JSON数据和JAVA对象转换"></a>JSON数据和JAVA对象转换</h3><p>请求数据：JSON字符串—&gt;JAVA对象</p><p>响应数据：JAVA对象—&gt;JSON字符串</p><h4 id="基本使用-1"><a href="#基本使用-1" class="headerlink" title="基本使用"></a>基本使用</h4><ol><li><p>导入坐标</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>fastjson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2.79<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>JAVA对象–&gt;JSON</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> s <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&#123;"age":18,"name":"张三","sub":["语文","英语"]&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>JSON–&gt;JAVA对象</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">User</span> user1 <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token string">"&#123;\"age\":19,\"name\":\"李四\",\"sub\":[\"语文\",\"英语\"]&#125;"</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> Ajax </tag>
            
            <tag> Axios </tag>
            
            <tag> JSON </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSP笔记</title>
      <link href="/2022/01/18/jsp/"/>
      <url>/2022/01/18/jsp/</url>
      
        <content type="html"><![CDATA[<p><strong>PS</strong>：还是Ajax+Servlet+html好用</p><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>Java Server Pages，Java的服务端页面</p><p>这是一种动态的网页技术，既可以定义html、css等静态的内容，也可以使用Java代码的动态内容</p><p>简单来说，jsp=java+html</p><p>作用：</p><p>简化开发，避免了在Servlet中直接输出html内容</p><h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><ol><li><p>导入坐标</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>创建jsp文件</p></li><li><p>编写代码</p></li></ol><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>JSP本质上是一个Servlet</p><p>浏览器访问jsp页面—&gt;tomcat会将name.jsp转换为name_jsp.java的Servlet文件—&gt;tomcat再将文件转换到name_jsp.class文件</p><p>最后执行class字节码文件，提供服务</p><p><img src="http://picgo.lqlqlq.ren/img/ede4ac7c433218bb1d5f30fc825434f0.jpg"></p><p><code>public final class hello_jsp extends org.apache.jasper.runtime.HttpJspBase</code></p><p>可以看到这个java文件是继承自org.apache.jasper.runtime.HttpJspBase这个类的</p><p>在tomcat的源码中找到这个类</p><p><img src="http://picgo.lqlqlq.ren/img/15d46d16503a54d5fb52b87674e63cd3.jpg"></p><p>发现是继承HttpServlet的，所以jsp本质是一个Servlet</p><p>在这个java文件中实际还是将标签在输出流中输出</p><p><img src="http://picgo.lqlqlq.ren/img/b5f6d9231cd21f9398e4e7f92dfa3179.jpg"></p><h2 id="Jsp脚本"><a href="#Jsp脚本" class="headerlink" title="Jsp脚本"></a>Jsp脚本</h2><p>JSP 脚本有如下三个分类：</p><p> &lt;%…%&gt;：内容会直接放到_jspService()方法之中 </p><p>&lt;%=…%&gt;：内容会放到out.print()中，作为out.print()的参数 </p><p>&lt;%!…%&gt;：内容会放到_jspService()方法之外，被类直接包含</p><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page import&#x3D;&quot;java.util.List&quot; %&gt;&lt;%@ page import&#x3D;&quot;java.util.ArrayList&quot; %&gt;&lt;%@ page import&#x3D;&quot;POJO.Brand&quot; %&gt;&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;&lt;%    &#x2F;&#x2F; 查询数据库,这里用的假数据    List&lt;Brand&gt; brands &#x3D; new ArrayList&lt;Brand&gt;();    brands.add(new Brand(1,&quot;三只松鼠&quot;,&quot;三只松鼠&quot;,100,&quot;三只松鼠，好吃不上火&quot;,1));    brands.add(new Brand(2,&quot;优衣库&quot;,&quot;优衣库&quot;,200,&quot;优衣库，服适人生&quot;,0));    brands.add(new Brand(3,&quot;小米&quot;,&quot;小米科技有限公司&quot;,1000,&quot;为发烧而生&quot;,1));%&gt;&lt;!DOCTYPE html&gt;&lt;html lang&#x3D;&quot;en&quot;&gt;&lt;head&gt;    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;    &lt;title&gt;Title&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;&lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;新增&quot;&gt;&lt;br&gt;&lt;hr&gt;&lt;table border&#x3D;&quot;1&quot; cellspacing&#x3D;&quot;0&quot; width&#x3D;&quot;800&quot;&gt;    &lt;tr&gt;        &lt;th&gt;序号&lt;&#x2F;th&gt;        &lt;th&gt;品牌名称&lt;&#x2F;th&gt;        &lt;th&gt;企业名称&lt;&#x2F;th&gt;        &lt;th&gt;排序&lt;&#x2F;th&gt;        &lt;th&gt;品牌介绍&lt;&#x2F;th&gt;        &lt;th&gt;状态&lt;&#x2F;th&gt;        &lt;th&gt;操作&lt;&#x2F;th&gt;    &lt;&#x2F;tr&gt;&lt;%--这里的循环和判断可以截断来写，在最后转换的java文件中会拼接成完整的代码--%&gt;    &lt;%        for (int i &#x3D; 0; i &lt; brands.size(); i++) &#123;            Brand brand &#x3D; brands.get(i);    %&gt;    &lt;tr align&#x3D;&quot;center&quot;&gt;        &lt;td&gt;&lt;%&#x3D;brand.getId()%&gt;&lt;&#x2F;td&gt;        &lt;td&gt;&lt;%&#x3D;brand.getBrandName()%&gt;&lt;&#x2F;td&gt;        &lt;td&gt;&lt;%&#x3D;brand.getCompanyName()%&gt;&lt;&#x2F;td&gt;        &lt;td&gt;&lt;%&#x3D;brand.getOrdered()%&gt;&lt;&#x2F;td&gt;        &lt;td&gt;&lt;%&#x3D;brand.getDescription()%&gt;&lt;&#x2F;td&gt;        &lt;%            if(brand.getStatus() &#x3D;&#x3D; 1)&#123;                &#x2F;&#x2F;显示启用        %&gt;            &lt;td&gt;&lt;%&#x3D;&quot;启用&quot;%&gt;&lt;&#x2F;td&gt;        &lt;%            &#125;else &#123;                &#x2F;&#x2F; 显示禁用        %&gt;            &lt;td&gt;&lt;%&#x3D;&quot;禁用&quot;%&gt;&lt;&#x2F;td&gt;        &lt;%            &#125;        %&gt;        &lt;td&gt;&lt;a href&#x3D;&quot;#&quot;&gt;修改&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;#&quot;&gt;删除&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;    &lt;&#x2F;tr&gt;    &lt;%        &#125;    %&gt;&lt;&#x2F;table&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><p>书写麻烦</p><p>阅读麻烦等</p><p><img src="http://picgo.lqlqlq.ren/img/fcb6d653d685c08046c27a934c38bde7.jpg"></p><h2 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL表达式</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>EL（全称Expression Language ）表达式语言，用于简化 JSP 页面内的 Java 代码。</p><p> EL 表达式的主要作用是 获取数据。其实就是从域对象中获取数据，然后将数据展示在页面上。</p><p> 而 EL 表达式的语法也比较简单，<code>$&#123;expression&#125;</code> 。例如：${brands} 就是获取域中存储的 key 为 brands 的数据。</p><h3 id="域对象"><a href="#域对象" class="headerlink" title="域对象"></a>域对象</h3><p>JavaWeb中有四大域对象，分别是： </p><p>page：当前页面有效 </p><p>request：当前请求有效 </p><p>session：当前会话有效 </p><p>application：当前应用有效 </p><p>el 表达式获取数据，会依次从这4个域中寻找，直到找到为止。而这四个域对象的作用范围如下图所示</p><p><img src="http://tva1.sinaimg.cn/large/008rg7orgy1gyhz7dx3esj30bu08labh.jpg"></p><p>如：${brands}，el 表达式获取数据，会先从page域对象中获取数据，如果没有再到 requet 域对象中获取数据，如果再 没有再到 session 域对象中获取，如果还没有才会到 application 中获取数据。</p><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>定义servlet，在 servlet 中封装一些数据并存储到 request 域对象中并转发到jsp页面</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token class-name">Servlet</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token class-name">POJO<span class="token punctuation">.</span>Brand</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"demo1"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"/demo1"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> demo1 <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 查询数据库,这里用的假数据</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">></span></span> brands <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        brands<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Brand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"三只松鼠"</span><span class="token punctuation">,</span><span class="token string">"三只松鼠"</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">"三只松鼠，好吃不上火"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        brands<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Brand</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"优衣库"</span><span class="token punctuation">,</span><span class="token string">"优衣库"</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"优衣库，服适人生"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        brands<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Brand</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"小米"</span><span class="token punctuation">,</span><span class="token string">"小米科技有限公司"</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token string">"为发烧而生"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//存储到域中</span>        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"brands"</span><span class="token punctuation">,</span>brands<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//转发</span>        request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"demo.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在jsp中通过 EL表达式 获取数据</p><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%--  Created by IntelliJ IDEA.  User: Li  Date: 2022&#x2F;1&#x2F;18  Time: 18:03  To change this template use File | Settings | File Templates.--%&gt;&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;Title&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;&lt;h1&gt;demo.jsp&lt;&#x2F;h1&gt;$&#123;brands&#125;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="JSTL标签"><a href="#JSTL标签" class="headerlink" title="JSTL标签"></a>JSTL标签</h2><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><p>JSP标准标签库(Jsp Standarded Tag Library) ，使用标签取代JSP页面上的Java代码。</p><p>一般会使用EL表达式获取数据，JSTL展示数据</p><h3 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h3><p>JSTL提供了很多的标签</p><p><img src="http://picgo.lqlqlq.ren/img/cdf574f5416b02ce275a3a6c8a9eab5f.jpg"></p><p>导入坐标</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>taglibs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>standard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>引入JSTL标签库</p><p>在jsp页面中引入</p><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ taglib prefix&#x3D;&quot;c&quot; uri&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;jsp&#x2F;jstl&#x2F;core&quot; %&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这里记下循环的使用</p><p><strong>第一种</strong></p><p>类似于 Java 中的增强for循环。</p><p>涉及到的  中的属性如下 </p><p>items：被遍历的容器 </p><p>var：遍历产生的临时变量 </p><p>varStatus：遍历状态对象  这个对象有两个属性：index（从0开始）和count（从1开始）</p><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;c:forEach items&#x3D;&quot;$&#123;brands&#125;&quot; var&#x3D;&quot;brand&quot; varStatus&#x3D;&quot;id&quot;&gt;&lt;tr align&#x3D;&quot;center&quot;&gt;&lt;%--    &lt;td&gt;$&#123;brand.id&#125;&lt;&#x2F;td&gt;--%&gt;    &lt;td&gt;$&#123;id.count&#125;&lt;&#x2F;td&gt;    &lt;td&gt;$&#123;brand.brandName&#125;&lt;&#x2F;td&gt;    &lt;td&gt;$&#123;brand.companyName&#125;&lt;&#x2F;td&gt;    &lt;td&gt;$&#123;brand.description&#125;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;c:forEach&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>第二种</strong></p><p>类似于 Java 中的普通for循环。涉及到的  中的属性如下 </p><p>begin：开始数 </p><p>end：结束数 </p><p>step：步长</p><p>从0循环到10，变量名是 i ，每次自增1</p><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;c:forEach begin&#x3D;&quot;0&quot; end&#x3D;&quot;10&quot; step&#x3D;&quot;1&quot; var&#x3D;&quot;i&quot;&gt;    $&#123;i&#125;&lt;&#x2F;c:forEach&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaEE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaEE </tag>
            
            <tag> JSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mybatis快速入门</title>
      <link href="/2021/12/23/mybatis-kuai-su-ru-men/"/>
      <url>/2021/12/23/mybatis-kuai-su-ru-men/</url>
      
        <content type="html"><![CDATA[<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>​    MyBatis 是支持普通 SQL查询，<a href="">存储过程</a>和高级映射的优秀<a href="">持久层</a>框架。MyBatis 消除了几乎所有的<a href="">JDBC</a>代码和参数的手工设置以及<a href="">结果集</a>的检索。MyBatis 使用简单的 <a href="">XML</a>或<a href="">注解</a>用于<a href="">配置</a>和<a href="">原始映射</a>，将接口和 Java 的POJOs（Plain Ordinary Java Objects，普通的 Java对象）映射成数据库中的记录。</p><details ><summary> 相关介绍 </summary>              <div class='content'>              <ul><li><p>​    持久层  </p><p>javaEE的三层架构：表现层、业务层、持久层</p><p>负责将数据保存到数据库的那一层代码</p></li></ul>              </div>            </details><h3 id="Mybatis的简化"><a href="#Mybatis的简化" class="headerlink" title="Mybatis的简化"></a>Mybatis的简化</h3><p><a href=""><strong>硬编码-&gt;配置文件</strong></a></p><div class="tabs" id="tabs1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs1-1">注册驱动，获取连接</button></li><li class="tab"><button type="button" data-href="#tabs1-2">mybatis-config.xml核心配置文件</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs1-1"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">"jdbc:mysql:///mybatis?useSSL=false"</span><span class="token punctuation">;</span><span class="token class-name">String</span> user<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span><span class="token class-name">String</span> password<span class="token operator">=</span><span class="token string">"123456"</span><span class="token punctuation">;</span><span class="token class-name">Connection</span> conn<span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Connection</span><span class="token punctuation">)</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>user<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs1-2"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--    类型别名--></span><span class="token comment">&lt;!--    &lt;typeAliases>--></span><span class="token comment">&lt;!--        &lt;typeAlias type="com.mybatis.pojo.User" alias="User">&lt;/typeAlias>--></span><span class="token comment">&lt;!--    &lt;/typeAliases>--></span>    <span class="token comment">&lt;!-- 包扫描的方式 自动扫描包中的po类，自动定义别名，别名是类名  --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mybatis.pojo<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql:///mybatis?useSSL=false<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123456<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--        加载sql映射文件--></span><span class="token comment">&lt;!--        &lt;mapper resource="com/mybatis/mapper/UserMapper.xml"/>--></span><span class="token comment">&lt;!--        包扫描，可以不用写路径--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mybatis.mapper<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tabs" id="tabs2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs2-1">SQL语句</button></li><li class="tab"><button type="button" data-href="#tabs2-2">SQL映射文件</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs2-1"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> sql<span class="token operator">=</span><span class="token string">"update tb_user set age=? where id=?"</span><span class="token punctuation">;</span><span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs2-2"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    select *    from tb_user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p><strong><a href="">操作繁琐-&gt;自动完成</a></strong></p><div class="tabs" id="tabs3"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs3-1">手动设置参数</button></li><li class="tab"><button type="button" data-href="#tabs3-2">手动封装结果集</button></li><li class="tab"><button type="button" data-href="#tabs3-3">sqlSession对象</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs3-1"><pre class="line-numbers language-java" data-language="java"><code class="language-java">preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> count<span class="token operator">=</span>preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs3-2"><p>例如封装查询User表的信息</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Result</span> rs<span class="token operator">=</span>preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span>users<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token operator">=</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> name<span class="token operator">=</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token class-name">User</span> user<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>user<span class="token punctuation">.</span><span class="token function">setid</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>user<span class="token punctuation">.</span><span class="token function">setname</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs3-3"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取Sqlsession对象，执行sql</span>        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span><span class="token class-name">SessionFactory</span><span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//执行sql</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> users <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span><span class="token string">"com.mybatis.mapper.UserMapper.selectAll"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p><strong>Mybatis几乎免除了所有的JDBC代码以及设置参数和获取结果集的工作</strong></p><h2 id="基本步骤"><a href="#基本步骤" class="headerlink" title="基本步骤"></a>基本步骤</h2><ol><li><p>创建模块，导入mybatis坐标</p></li><li><p>编写Mybatis的核心配置文件-&gt;替换连接信息，解决硬编码问题</p></li><li><p>定义POJO类</p></li><li><p>编写SQL映射文件-&gt;统一管理SQL语句，也是解决硬编码问题</p></li><li><p>业务层使用</p><ol><li><p>加载核心配置文件，获取SqlSessionFactory对象</p></li><li><p>获取Session对象，执行SQL</p></li><li><p>释放资源</p></li></ol></li></ol><div class="tabs" id="tabs4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs4-1">导入坐标</button></li><li class="tab"><button type="button" data-href="#tabs4-2">编写Mybatis的核心配置文件</button></li><li class="tab"><button type="button" data-href="#tabs4-3">定义POJO类</button></li><li class="tab"><button type="button" data-href="#tabs4-4">编写SQL映射文件</button></li><li class="tab"><button type="button" data-href="#tabs4-5">业务层使用</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs4-1"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>8.0.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs4-2"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>        <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Config 3.0//EN"</span>        <span class="token string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--    别名--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- 包扫描--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mybatis.pojo<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql:///mybatis?useSSL=false<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123456<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--        加载sql映射文件--></span><span class="token comment">&lt;!--        &lt;mapper resource="com/mybatis/mapper/UserMapper.xml"/>--></span><span class="token comment">&lt;!--        包扫描，可以不用写路径--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mybatis.mapper<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs4-3"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> _age<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> id<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">get_age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> _age<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">set_age</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> _age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>_age <span class="token operator">=</span> _age<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"User&#123;"</span> <span class="token operator">+</span>                <span class="token string">"id="</span> <span class="token operator">+</span> id <span class="token operator">+</span>                <span class="token string">", name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>                <span class="token string">", _age="</span> <span class="token operator">+</span> _age <span class="token operator">+</span>                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs4-4"><p><img src="http://picgo.lqlqlq.ren/img/1db99f327aeb67ee9e7eb5fec3e386b2.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs4-5"><p><img src="http://picgo.lqlqlq.ren/img/186e4a4cb08b0611b76ab56d130a2fcf.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="Mapper代理"><a href="#Mapper代理" class="headerlink" title="Mapper代理"></a>Mapper代理</h2><p><code>问题：</code></p><p>在业务层使用的时候，使用sql的映射是使用namespace.id的方式，这里还是有硬编码的问题</p><p>而且使用的时候还需要去查看相关的sql映射id，并不是很方便</p><p><code>解决：</code></p><p>Mapper代理</p><h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><ol><li>定义与SQL映射文件同名的Mapper接口，两者要在同一目录下</li><li>SQL映射文件的namespace要为Mapper接口的全限定名</li><li>Mapper接口中定义方法，方法名为sql的id，保持参数类型和返回值相同</li><li>业务层编码<ol><li>SqlSession的getMapper方法获取Mapper接口的代理对象</li><li>代理对象调用方法完成sql</li></ol></li></ol><p>Mapper和SQL的映射文件在同一目录下，并且同名，则在mybatis的核心文件中加载SQL映射文件的时候可以使用包扫描的方式</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mybatis.mapper<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><div class="tabs" id="tabs5"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs5-1">设置同名接口</button></li><li class="tab"><button type="button" data-href="#tabs5-2">Mapper接口</button></li><li class="tab"><button type="button" data-href="#tabs5-3">业务层使用</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs5-1"><p>resource下建多级目录xxx/xxx/xxx不能用xxx.xxx.xxx，创建与Mapper接口同路径，编译时会将两者放到一起</p><p><img src="http://picgo.lqlqlq.ren/img/8b538eb0d89e730414ecb209d9f45b73.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs5-2"><p><img src="http://picgo.lqlqlq.ren/img/ccbbed22e3164dd07ac8c9ec4fccf8a4.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs5-3"><p><img src="http://picgo.lqlqlq.ren/img/87012881775a05aa85b1d870b0a73f8b.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="SQL映射文件"><a href="#SQL映射文件" class="headerlink" title="SQL映射文件"></a>SQL映射文件</h2><h3 id="参数占位符"><a href="#参数占位符" class="headerlink" title="参数占位符:"></a>参数占位符:</h3><ol><li><p>#{}、${}</p><ol><li> #{}: 执行SQL时,会将#{}占位符替换为?,将来自动设置参数值   预编译</li></ol><p>   ${}: 拼SQL。 会存在SQL注入问题</p><ol start="2"><li><p>使用时机: </p><ul><li>参数传递，都使用#{}</li><li>如果要对表名、列名进行动态设置，只能使用${}进行sql拼接。</li></ul></li></ol></li><li><p>parameterType:</p><p>对于有参数的mapper接口方法，我们在映射配置文件中应该配置 ParameterType 来指定参数类型。只不过该属性都可以 省略</p><p>用于设置参数类型，该参数可以省略,一般不写，在接口方法中有定义</p></li><li><p>SQL语句中特殊字符处理:</p><ul><li>​    转义字符</li><li><code>&lt;![CDATA[内容]1&gt;</code>      (如&lt;)</li></ul></li></ol><h3 id="字段映射"><a href="#字段映射" class="headerlink" title="字段映射"></a>字段映射</h3><p>有时候POJO类的字段名和数据库的字段名不一样，查询到的数据不能封装到实体类里面(会赋值为属性类型的默认值)，所以在查询的时候需要做一个字段的映射</p><p><code>mapper接口中的映射方法参数对应的的是SQL语句的参数，这里数据类型的对应没有那么严格，SQL的结果封装对应的是resultType类型，如果要封装为POJO对象，则要求要字段一一对应</code></p><div class="tabs" id="tabs6"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs6-1">sql语句中映射</button></li><li class="tab"><button type="button" data-href="#tabs6-2">sql片段</button></li><li class="tab"><button type="button" data-href="#tabs6-3">resultMap映射</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs6-1"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        select id,name,age as _age        from tb_user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs6-2"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">sql片段<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_age<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    id,name,age as _age<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        select <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_age<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>        from tb_user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs6-3"><ul><li>type：返回类型</li><li>column：列名</li><li>property：字段名</li><li>select中的resultType要换成resultMap属性</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ageMap<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_age<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectByid<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ageMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        select * from tb_user where id <span class="token cdata">&lt;![CDATA[        &lt;        ]]></span>#&#123;id&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h2><p>当查询语句中的参数多的时候，就需要方法参数映射的方式传入SQL语句中</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--    多条件查询--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectCD<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ageMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    select *    from tb_user where name like #&#123;name&#125; and age like #&#123;age&#125;;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="多条件"><a href="#多条件" class="headerlink" title="多条件"></a>多条件</h3><p>@Param(“SQL参数占位符名称”) 参数名</p><div class="tabs" id="tabs6"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs6-1">UserMapper接口</button></li><li class="tab"><button type="button" data-href="#tabs6-2">测试类</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs6-1"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> <span class="token function">selectCD</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name1<span class="token punctuation">,</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> age1<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs6-2"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> name<span class="token operator">=</span><span class="token string">"李"</span><span class="token punctuation">;</span><span class="token class-name">String</span> age<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">;</span>name<span class="token operator">=</span><span class="token string">"%"</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">"%"</span><span class="token punctuation">;</span>age<span class="token operator">=</span><span class="token string">"%"</span><span class="token operator">+</span>age<span class="token operator">+</span><span class="token string">"%"</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> users <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectCD</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="对象封装"><a href="#对象封装" class="headerlink" title="对象封装"></a>对象封装</h3><p>接口方法名（参数对象）;</p><p>参数对象的属性名要与SQL的字段对应，如#｛name｝，会去找 参数对象.name，所以也需要getter和setter方法，<em>方法名没有严格要求，但一定要有返回对应字段。</em></p><div class="tabs" id="tabs6"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs6-1">UserMapper接口</button></li><li class="tab"><button type="button" data-href="#tabs6-2">测试类</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs6-1"><p>SUser是age为String的类，这里是为了强调可以不用SQL返回结果的POJO类</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> <span class="token function">selectCD</span><span class="token punctuation">(</span><span class="token class-name">SUser</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs6-2"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">SUser</span> su<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">SUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>su<span class="token punctuation">.</span><span class="token function">setge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>su<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>。。。。。。。。。。。    。。。。。。<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> users <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectCD</span><span class="token punctuation">(</span>su<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="Map集合"><a href="#Map集合" class="headerlink" title="Map集合"></a>Map集合</h3><p>会将Map集合里面的Key值对应的Value值映射到SQL对应字段</p><div class="tabs" id="tabs7"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs7-1">UserMapper接口</button></li><li class="tab"><button type="button" data-href="#tabs7-2">测试类</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs7-1"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> <span class="token function">selectCD</span><span class="token punctuation">(</span><span class="token class-name">Map</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs7-2"><pre class="line-numbers language-none"><code class="language-none">HashMap&lt;String, String&gt; Map &#x3D; new HashMap&lt;String,String&gt;();Map.put(&quot;name&quot;,&quot;%李%&quot;);Map.put(&quot;age&quot;,&quot;%1%&quot;);.........................................List&lt;User&gt; users &#x3D; mapper.selectCD(Map);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="动态条件查询"><a href="#动态条件查询" class="headerlink" title="动态条件查询"></a>动态条件查询</h3><p>动态 SQL 是 MyBatis 的强大特性之一。如果你使用过 JDBC 或其它类似的框架，你应该能理解根据不同条件拼接 SQL 语句有多痛苦，例如拼接时要确保不能忘记添加必要的空格，还要注意去掉列表最后一个列名的逗号。利用动态 SQL，可以彻底摆脱这种痛苦。</p><p>有时候条件输入并不是都输入，这个时候需要缺少参数的多条件SQL语句也能执行</p><ul><li>if</li><li>choose (when, otherwise)</li><li>trim (where, set)</li><li>foreach</li></ul><h4 id="多条件-动态查询"><a href="#多条件-动态查询" class="headerlink" title="多条件-动态查询"></a>多条件-动态查询</h4><div class="tabs" id="动态条件查询"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#动态条件查询-1">sql映射</button></li><li class="tab"><button type="button" data-href="#动态条件查询-2">UserMapper接口</button></li><li class="tab"><button type="button" data-href="#动态条件查询-3">测试类</button></li><li class="tab"><button type="button" data-href="#动态条件查询-4">结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="动态条件查询-1"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--    动态查询-多条件--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Dycon_Mul<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ageMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        select *        from tb_user        where              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name !=<span class="token punctuation">'</span><span class="token punctuation">'</span> and name!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                  name=#&#123;name&#125;              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age!=<span class="token punctuation">'</span><span class="token punctuation">'</span> and age!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                  and age=#&#123;age&#125;              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="动态条件查询-2"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//     多条件动态</span>     <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> <span class="token class-name">Dycon_Mul</span><span class="token punctuation">(</span><span class="token class-name">SUser</span> su<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="动态条件查询-3"><pre class="line-numbers language-none"><code class="language-none">import com.mybatis.mapper.UserMapper;import com.mybatis.pojo.SUser;import com.mybatis.pojo.User;import org.apache.ibatis.io.Resources;import org.apache.ibatis.session.SqlSession;import org.apache.ibatis.session.SqlSessionFactory;import org.apache.ibatis.session.SqlSessionFactoryBuilder;import java.io.IOException;import java.io.InputStream;import java.util.List;public class Dycon_Multest &#123;    public static void main(String[] args) throws IOException &#123;        String s &#x3D; &quot;mybatis-config.xml&quot;;        InputStream resourceAsStream &#x3D; Resources.getResourceAsStream(s);        SqlSessionFactory build &#x3D; new SqlSessionFactoryBuilder().build(resourceAsStream);        SqlSession sqlSession &#x3D; build.openSession();        UserMapper mapper &#x3D; sqlSession.getMapper(UserMapper.class);        SUser su &#x3D; new SUser();        su.setName(&quot;zs&quot;);&#x2F;&#x2F;不输入age参数&#x2F;&#x2F;        su.setge(&quot;20&quot;);        List&lt;User&gt; users &#x3D; mapper.Dycon_Mul(su);        for(User u :users)&#123;            System.out.println(u);        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="动态条件查询-4"><p>可以看到name没有在sql语句中</p><pre class="line-numbers language-none"><code class="language-none">[DEBUG]  [main] c.m.m.U.Dycon_Mul - &#x3D;&#x3D;&gt;  Preparing: select * from tb_user where name&#x3D;? [DEBUG]  [main] c.m.m.U.Dycon_Mul - &#x3D;&#x3D;&gt; Parameters: zs(String) [DEBUG]  [main] c.m.m.U.Dycon_Mul - &lt;&#x3D;&#x3D;      Total: 2 User&#123;id&#x3D;6, name&#x3D;&#39;zs&#39;, _age&#x3D;20&#125;User&#123;id&#x3D;7, name&#x3D;&#39;zs&#39;, _age&#x3D;21&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h5 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h5><p>但是可以发现这个sql写法有一个缺陷，就是当第一个参数省略时，拼接的sql是不合法的</p><!--tab 测试类--><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">UserMapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">SUser</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dycon_Multest</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"mybatis-config.xml"</span><span class="token punctuation">;</span>        <span class="token class-name">InputStream</span> resourceAsStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SqlSessionFactory</span> build <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>resourceAsStream<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> build<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">UserMapper</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SUser</span> su <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//省略名字</span><span class="token comment">//        su.setName("zs");</span>        su<span class="token punctuation">.</span><span class="token function">setge</span><span class="token punctuation">(</span><span class="token string">"20"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> users <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">mapper<span class="token punctuation">.</span></span>Dycon_Mul</span><span class="token punctuation">(</span>su<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">User</span> u <span class="token operator">:</span>users<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><!--endtab--><!--tab 结果--><p>可以看到sql语句为<code>select * from tb_user where and age=?</code>，这是不合法的</p><pre class="line-numbers language-none"><code class="language-none">[DEBUG]  [main] c.m.m.U.Dycon_Mul - &#x3D;&#x3D;&gt;  Preparing: select * from tb_user where and age&#x3D;? [DEBUG]  [main] c.m.m.U.Dycon_Mul - &#x3D;&#x3D;&gt; Parameters: 20(String) Exception in thread &quot;main&quot; org.apache.ibatis.exceptions.PersistenceException: ### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;and age&#x3D;&#39;20&#39;&#39; at line 6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><!--endtab--><h5 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h5><p>应该要想办法将拼接的sql语句变成合法</p><p>1、恒等式让所有条件格式都一样</p><div class="tabs" id="fangan1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#fangan1-1">sql映射文件</button></li><li class="tab"><button type="button" data-href="#fangan1-2">结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="fangan1-1"><pre class="line-numbers language-none"><code class="language-none">&lt;!--    动态查询-多条件--&gt;    &lt;select id&#x3D;&quot;Dycon_Mul&quot; resultMap&#x3D;&quot;ageMap&quot;&gt;        select *        from tb_user        where 1&#x3D;1              &lt;if test&#x3D;&quot;name !&#x3D;&#39;&#39; and name!&#x3D;null&quot;&gt;                 and name&#x3D;#&#123;name&#125;              &lt;&#x2F;if&gt;              &lt;if test&#x3D;&quot;age!&#x3D;&#39;&#39; and age!&#x3D;null&quot;&gt;                  and age&#x3D;#&#123;age&#125;              &lt;&#x2F;if&gt;    &lt;&#x2F;select&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="fangan1-2"><p>select * from tb_user where 1=1 and age=? </p><pre class="line-numbers language-none"><code class="language-none">[DEBUG]  [main] c.m.m.U.Dycon_Mul - &#x3D;&#x3D;&gt;  Preparing: select * from tb_user where 1&#x3D;1 and age&#x3D;? [DEBUG]  [main] c.m.m.U.Dycon_Mul - &#x3D;&#x3D;&gt; Parameters: 20(String) [DEBUG]  [main] c.m.m.U.Dycon_Mul - &lt;&#x3D;&#x3D;      Total: 1 User&#123;id&#x3D;6, name&#x3D;&#39;zs&#39;, _age&#x3D;20&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>2、<code>&lt;where&gt;</code>标签替换where</p><p><em>where</em> 元素只会在子元素返回任何内容的情况下才插入 “WHERE” 子句。而且，若子句的开头为 “AND” 或 “OR”，<em>where</em> 元素也会将它们去除。</p><div class="tabs" id="fangan2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#fangan2-1">sql映射文件</button></li><li class="tab"><button type="button" data-href="#fangan2-2">结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="fangan2-1"><pre class="line-numbers language-none"><code class="language-none">&lt;!--    动态查询-多条件--&gt;    &lt;select id&#x3D;&quot;Dycon_Mul&quot; resultMap&#x3D;&quot;ageMap&quot;&gt;        select *        from tb_user        &lt;where&gt;            &lt;if test&#x3D;&quot;name !&#x3D;&#39;&#39; and name!&#x3D;null&quot;&gt;                and name&#x3D;#&#123;name&#125;            &lt;&#x2F;if&gt;            &lt;if test&#x3D;&quot;age!&#x3D;&#39;&#39; and age!&#x3D;null&quot;&gt;                and age&#x3D;#&#123;age&#125;            &lt;&#x2F;if&gt;        &lt;&#x2F;where&gt;    &lt;&#x2F;select&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="fangan2-2"><p>可以看到where自动省略了name</p><p>select * from tb_user WHERE age=?</p><pre class="line-numbers language-none"><code class="language-none">[DEBUG]  [main] c.m.m.U.Dycon_Mul - &#x3D;&#x3D;&gt;  Preparing: select * from tb_user WHERE age&#x3D;? [DEBUG]  [main] c.m.m.U.Dycon_Mul - &#x3D;&#x3D;&gt; Parameters: 20(String) [DEBUG]  [main] c.m.m.U.Dycon_Mul - &lt;&#x3D;&#x3D;      Total: 1 User&#123;id&#x3D;6, name&#x3D;&#39;zs&#39;, _age&#x3D;20&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="单条件-动态查询"><a href="#单条件-动态查询" class="headerlink" title="单条件-动态查询"></a>单条件-动态查询</h4><p>有时候，我们不想使用所有的条件，而只是想从多个条件中选择一个使用。针对这种情况，MyBatis 提供了 choose 元素，它有点像 Java 中的 switch 语句。</p><div class="tabs" id="single"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#single-1">sql语句</button></li><li class="tab"><button type="button" data-href="#single-2">测试类</button></li><li class="tab"><button type="button" data-href="#single-3">结果</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="single-1"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--    单条件查询--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Dycon_Sin<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        select * from tb_user        where        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name !=<span class="token punctuation">'</span><span class="token punctuation">'</span> and name!= null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                name = #&#123;name&#125;            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age!=<span class="token punctuation">'</span><span class="token punctuation">'</span>and age!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                age=#&#123;age&#125;            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="single-2"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dycon_Sintest</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"mybatis-config.xml"</span><span class="token punctuation">;</span>        <span class="token class-name">InputStream</span> resourceAsStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SqlSessionFactory</span> build <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>resourceAsStream<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> build<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">UserMapper</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SUser</span> su<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">SUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//这里设置了两个参数</span>        su<span class="token punctuation">.</span><span class="token function">setge</span><span class="token punctuation">(</span><span class="token string">"20"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        su<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"zs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> users <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">mapper<span class="token punctuation">.</span></span>Dycon_Sin</span><span class="token punctuation">(</span>su<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">User</span> u <span class="token operator">:</span>users<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="single-3"><p>select * from tb_user where name = ?</p><p>可以看到只用了SQL语句中的第一个参数</p><pre class="line-numbers language-none"><code class="language-none">[DEBUG]  [main] c.m.m.U.Dycon_Sin - &#x3D;&#x3D;&gt;  Preparing: select * from tb_user where name &#x3D; ? [DEBUG]  [main] c.m.m.U.Dycon_Sin - &#x3D;&#x3D;&gt; Parameters: zs(String) [DEBUG]  [main] c.m.m.U.Dycon_Sin - &lt;&#x3D;&#x3D;      Total: 2 User&#123;id&#x3D;6, name&#x3D;&#39;zs&#39;, _age&#x3D;null&#125;User&#123;id&#x3D;7, name&#x3D;&#39;zs&#39;, _age&#x3D;null&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h5 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h5><p>当没有输入值时，就会出现SQL语句不合法的情况，比如<code>select * from tb_user where</code>，所以需要一个default的情况</p><h5 id="解决方案-1"><a href="#解决方案-1" class="headerlink" title="解决方案"></a>解决方案</h5><p>1、<code>&lt;otherwise&gt;</code>标签</p><p>例如：</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--    单条件查询--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Dycon_Sin<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ageMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        select * from tb_user        where        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name !=<span class="token punctuation">'</span><span class="token punctuation">'</span> and name!= null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                name = #&#123;name&#125;            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age!=<span class="token punctuation">'</span><span class="token punctuation">'</span>and age!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                age=#&#123;age&#125;            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">></span></span>                1=1            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>​    那么产生的SQL语句为<code>select * from tb_user where 1=1</code> ，就可以避免报错</p><p>2、<code>&lt;where&gt;</code>标签</p><p>像上面的otherwise情况，只是为了SQL语句合法而写的</p><p>使用where标签可以省略otherwise部分</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--    单条件查询--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Dycon_Sin<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ageMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        select * from tb_user        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name !=<span class="token punctuation">'</span><span class="token punctuation">'</span> and name!= null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    name = #&#123;name&#125;                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age!=<span class="token punctuation">'</span><span class="token punctuation">'</span>and age!=null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    age=#&#123;age&#125;                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>结果：</p><p>会自动把SQL语句中的where去除，保证语句的合法</p><p>select * from tb_use</p><pre class="line-numbers language-none"><code class="language-none">[DEBUG]  [main] c.m.m.U.Dycon_Sin - &#x3D;&#x3D;&gt;  Preparing: select * from tb_user [DEBUG]  [main] c.m.m.U.Dycon_Sin - &#x3D;&#x3D;&gt; Parameters:  [DEBUG]  [main] c.m.m.U.Dycon_Sin - &lt;&#x3D;&#x3D;      Total: 7 User&#123;id&#x3D;1, name&#x3D;&#39;zhangsan&#39;, _age&#x3D;22&#125;User&#123;id&#x3D;2, name&#x3D;&#39;lisi&#39;, _age&#x3D;26&#125;User&#123;id&#x3D;3, name&#x3D;&#39;wangwu&#39;, _age&#x3D;17&#125;User&#123;id&#x3D;4, name&#x3D;&#39;李四&#39;, _age&#x3D;19&#125;User&#123;id&#x3D;5, name&#x3D;&#39;李三&#39;, _age&#x3D;18&#125;User&#123;id&#x3D;6, name&#x3D;&#39;zs&#39;, _age&#x3D;20&#125;User&#123;id&#x3D;7, name&#x3D;&#39;zs&#39;, _age&#x3D;21&#125;Process finished with exit code 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Mybatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mybatis </tag>
            
            <tag> 持久层 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git常用命令</title>
      <link href="/2021/12/19/git-chang-yong-ming-ling/"/>
      <url>/2021/12/19/git-chang-yong-ming-ling/</url>
      
        <content type="html"><![CDATA[<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><table><thead><tr><th align="left">命令</th><th align="center">作用</th></tr></thead><tbody><tr><td align="left">git config –global user.name 用户名</td><td align="center">设置用户签名</td></tr><tr><td align="left">git config –global user.email 邮箱</td><td align="center">设置用户签名</td></tr><tr><td align="left">git init</td><td align="center">初始化本地库</td></tr><tr><td align="left">git status</td><td align="center">查看本地库状态</td></tr><tr><td align="left">git add 文件名</td><td align="center">添加到暂存区</td></tr><tr><td align="left">git commit -m “日志信息” 文件名</td><td align="center">提交到本地库</td></tr><tr><td align="left">git reflog</td><td align="center">查看历史记录</td></tr><tr><td align="left">git log</td><td align="center">查询版本的历史</td></tr><tr><td align="left">git reset –hard 版本号</td><td align="center">更改版本</td></tr><tr><td align="left">ll</td><td align="center">列出当前文件或目录的详细信息</td></tr><tr><td align="left">vim “文件名”</td><td align="center">打开或添加文件（<kbd>ESC</kbd>退出编辑 ）:wq保存</td></tr><tr><td align="left">cat “文件名”</td><td align="center">查看文件内容</td></tr></tbody></table><p>​    签名的作用是<code>区分不同操作者身份</code>。用户的签名信息在每一个版本的提交信息中能够看 到，以此确认本次提交是谁做的。Git 首次安装必须设置一下用户签名，否则无法提交代码。</p><p>​    这里设置用户签名和将来登录 GitHub（或其他代码托管中心）的账号没有任 何关系。</p><h3 id="分支操作"><a href="#分支操作" class="headerlink" title="分支操作"></a>分支操作</h3><table><thead><tr><th>分支操作</th><th>作用</th></tr></thead><tbody><tr><td>git branch 分支名</td><td>创建分支</td></tr><tr><td>git branch -v</td><td>查看分支</td></tr><tr><td>git checkout 分支名</td><td>切换分支</td></tr><tr><td>git merge 分支名</td><td>把指定的分支合并到当前分支上</td></tr><tr><td></td><td></td></tr></tbody></table><p>​    <code>分支冲突</code>：</p><p>​    合并分支时，两个分支在同一个文件的同一个位置有两套完全不同的修改（同一时间段）。Git 无法替 我们决定使用哪一个。必须人为决定新代码内容。</p><p>​    <code>表现</code>：</p><p>​     <img src="https://s4.ax1x.com/2021/12/19/Tewj1A.png"></p><p>​    编辑有冲突的文件，删除特殊符号，决定要使用的内容 </p><p>​    <code>冲突区域</code>：</p><p>​    &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD </p><p>​        当前分支的代码</p><p>​    ======= </p><p>​    合并过来的代码 </p><p>​    &gt;&gt;&gt;&gt;&gt;&gt;&gt; hot-fix(分支名)</p><p>​    最后提交时，此时使用 git commit 命令时<strong>不能带文件名</strong></p><h3 id="远程仓库操作"><a href="#远程仓库操作" class="headerlink" title="远程仓库操作"></a>远程仓库操作</h3><table><thead><tr><th>远程仓库操作</th><th>作用</th></tr></thead><tbody><tr><td>git remote -v</td><td>查看当前所有远程地址别名</td></tr><tr><td>git remote add 别名 远程地址</td><td>起别名</td></tr><tr><td>git push 别名 分支</td><td>推送<strong>本地</strong>分支上的内容到远程仓库</td></tr><tr><td>git clone 远程地址</td><td>将远程仓库的内容克隆到本地</td></tr><tr><td>git pull 远程库地址别名 <strong>远程分支名</strong></td><td>将远程仓库对于分支最新内容拉下来后与 当前本地分支直接合并</td></tr></tbody></table><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>​        Git 是一个免费的、开源的<code>分布式版本控制系统</code>，可以快速高效地处理从小型到大型的各种 项目。 Git 易于学习，占地面积小，性能极快。 </p><p>​        它具有廉价的本地库，方便的暂存区域和多个工作 流分支等特性。其性能优于 Subversion、CVS、Perforce 和 ClearCase 等版本控制工具。</p><h3 id="版本控制"><a href="#版本控制" class="headerlink" title="版本控制"></a>版本控制</h3><p>​        版本控制是一种记录文件内容变化，以便将来查阅特定版本修订情况的系统。 </p><p>​        版本控制其实最重要的是<code>可以记录文件修改历史记录</code>，从而让用户能够查看历史版本， 方便版本切换</p><h3 id="版本控制工具"><a href="#版本控制工具" class="headerlink" title="版本控制工具"></a>版本控制工具</h3><div class="tabs" id="tabs1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs1-1">集中式版本控制工具</button></li><li class="tab"><button type="button" data-href="#tabs1-2">分布式版本控制工具</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs1-1"><p><strong>CVS、SVN(Subversion)、VSS……</strong></p><p>** <strong>集中化的版本控制系统诸如 CVS、SVN 等，都有一个单一的集中管理的服务器，保存 所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或 者提交更新。多年以来，这已成为版本控制系统的标准做法。 这种做法带来了许多好处，每个人都可以在一定程度上看到项目中的其他人正在做些什 么。而管理员也可以轻松掌控每个开发者的权限，并且管理一个集中化的版本控制系统，要 远比在各个客户端上维护本地数据库来得轻松容易。 事分两面，有好有坏。这么做显而易见的缺点是中央服务器的单点故障。如果服务器宕 机一小时，那么在这一小时内，谁都无法提交更新，也就无法协同工作</strong>**</p><p><img src="https://s4.ax1x.com/2021/12/19/TesXLR.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs1-2"><p><strong>Git、Mercurial、Bazaar、Darcs……</strong></p><p><strong>像 Git 这种分布式版本控制工具，客户端提取的不是最新版本的文件快照，而是把代码 仓库完整地镜像下来（本地库）。这样任何一处协同工作用的文件发生故障，事后都可以用 其他客户端的本地仓库进行恢复。因为每个客户端的每一次文件提取操作，实际上都是一次 对整个文件仓库的完整备份。</strong></p><p><strong>分布式的版本控制系统出现之后,解决了集中式版本控制系统的缺陷:</strong> </p><ol><li><p><strong>服务器断网的情况下也可以进行开发（因为版本控制是在本地进行的）</strong> </p></li><li><p><strong>每个客户端保存的也都是整个完整的项目（包含历史记录，更加安全）</strong></p><p><img src="https://s4.ax1x.com/2021/12/19/TeyiSe.png"></p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="Git工作机制"><a href="#Git工作机制" class="headerlink" title="Git工作机制"></a>Git工作机制</h3><p><img src="https://s4.ax1x.com/2021/12/19/TeyuY8.png"></p><h3 id="Git和代码托管中心"><a href="#Git和代码托管中心" class="headerlink" title="Git和代码托管中心"></a>Git和代码托管中心</h3><p>代码托管中心是基于网络服务器的远程代码仓库，一般我们简单称为远程库。</p><div class="tabs" id="tabs2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tabs2-1">局域网</button></li><li class="tab"><button type="button" data-href="#tabs2-2">局域网</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tabs2-1"><ul><li><input disabled="" type="checkbox"> GitLab</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tabs2-2"><ul><li><p><input checked="" disabled="" type="checkbox">  GitHub（外网）</p></li><li><p><input checked="" disabled="" type="checkbox">  Gitee 码云（国内网站）</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="版本切换"><a href="#版本切换" class="headerlink" title="版本切换"></a>版本切换</h3><p>Git 切换版本，底层其实是移动的 HEAD 指针，具体原理如下图所示。</p><p><img src="https://s4.ax1x.com/2021/12/19/Te6Vc4.png"></p><p><img src="https://s4.ax1x.com/2021/12/19/Te604f.png"></p><h3 id="分支切换"><a href="#分支切换" class="headerlink" title="分支切换"></a>分支切换</h3><h4 id="什么是分支"><a href="#什么是分支" class="headerlink" title="什么是分支"></a>什么是分支</h4><p>​    在版本控制过程中，同时推进多个任务，为每个任务，我们就可以创建每个任务的单独 分支。使用分支意味着程序员可以把自己的工作从开发主线上分离开来，开发自己分支的时 候，不会影响主线分支的运行。对于初学者而言，分支可以简单理解为副本，一个分支就是 一个单独的副本。（分支底层其实也是指针的引用）</p><p>​        <img src="https://s4.ax1x.com/2021/12/19/Te6MAx.png"></p><p>​    <code>好处</code></p><p>​    同时并行推进多个功能开发，提高开发效率。 </p><p>​    各个分支在开发过程中，如果某一个分支开发失败，不会对其他分支有任何影响。失败 的分支删除重新开始即可。</p><p>​    master、分支其实都是指向具体版本记录的指针。当前所在的分支，其实是由 HEAD 决定的。所以创建分支的本质就是多创建一个指针。</p><p><img src="https://s4.ax1x.com/2021/12/19/Te6I8U.png"></p><p><img src="http://picgo.lqlqlq.ren/img/down.png"></p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>appium相关命令</title>
      <link href="/2021/10/29/appium/"/>
      <url>/2021/10/29/appium/</url>
      
        <content type="html"><![CDATA[<h2 id="基础信息"><a href="#基础信息" class="headerlink" title="基础信息"></a>基础信息</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> appium <span class="token keyword">import</span> webdriver<span class="token keyword">from</span> appium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>touch_action <span class="token keyword">import</span> TouchAction<span class="token keyword">import</span> timedesire_cap<span class="token operator">=</span><span class="token punctuation">&#123;</span>  <span class="token string">"appActivity"</span><span class="token punctuation">:</span> <span class="token string">".launch.LaunchSplashEduActivity"</span><span class="token punctuation">,</span>  <span class="token string">"appPackage"</span><span class="token punctuation">:</span> <span class="token string">"com.tencent.wework"</span><span class="token punctuation">,</span>  <span class="token string">"platformName"</span><span class="token punctuation">:</span> <span class="token string">"android"</span><span class="token punctuation">,</span>  <span class="token string">"deviceName"</span><span class="token punctuation">:</span> <span class="token string">"emulator-5554"</span><span class="token punctuation">,</span>  <span class="token string">"noReset"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span><span class="token comment">#不对应用reset</span>  <span class="token string">"dontStopAppOnReset"</span><span class="token punctuation">:</span> <span class="token boolean">True</span>   <span class="token string">"unicodeKeyBoard"</span><span class="token punctuation">:</span> <span class="token boolean">True</span> <span class="token comment">#切换输入</span>  <span class="token string">"resetKeyBoard"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">&#125;</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Remote<span class="token punctuation">(</span><span class="token string">"http://localhost:4723/wd/hub"</span><span class="token punctuation">,</span>desire_cap<span class="token punctuation">)</span>driver<span class="token punctuation">.</span>implicitly_wait<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre> <div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">获取设备名字</button></li><li class="tab"><button type="button" data-href="#test4-2">获取所有的包名</button></li><li class="tab"><button type="button" data-href="#test4-3">获取Activity</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>adb devices</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>adb shell pm list packages</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>adb logcat | grep ActivityManager 或者 adb logcat | grep Displayed</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><details ><summary> 图片1 </summary>              <div class='content'>              <p><a href="https://imgtu.com/i/5vahX4"><img src="https://z3.ax1x.com/2021/10/29/5vahX4.png" alt="5vahX4.png"></a></p>              </div>            </details><details ><summary> 图片2 </summary>              <div class='content'>              <p><a href="https://imgtu.com/i/5vabh6"><img src="https://z3.ax1x.com/2021/10/29/5vabh6.png" alt="5vabh6.png"></a></p>              </div>            </details><details ><summary> app信息 </summary>              <div class='content'>              <p><a href="https://imgtu.com/i/5v0G79"><img src="https://z3.ax1x.com/2021/10/29/5v0G79.png" alt="5v0G79.png"></a></p>              </div>            </details><details ><summary> Capability设置 </summary>              <div class='content'>              <p><a href="https://imgtu.com/i/5v0r0H"><img src="https://z3.ax1x.com/2021/10/29/5v0r0H.png" alt="5v0r0H.png"></a></p>              </div>            </details>]]></content>
      
      
      
        <tags>
            
            <tag> appium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>配置记录</title>
      <link href="/2021/09/23/pei-zhi-ji-lu/"/>
      <url>/2021/09/23/pei-zhi-ji-lu/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="b2c08c709e1b19fd94ecc760f37b0672b008bf4e78e5c0b594af23dede447620">e164003a155d1968339a34388cf80cd79e114f44a359ff92b21357fcebe2508032e6f81a1d69afa3862e238c9cba213c48663bdb828f86d5321900584101639e00fcaa7b716f9b99335d3b6c174b32005e4648a769aba8dacfd193a6d598605b705db524a511553a22419fa3ba839ecb72b4fca2749f81dde00b886e3571af627d141e16c6c0b99490e69364e376d2e0b26ac192f9ed3a460e46b0e2ea756b7cbf5f6461631385a95f82bb2310214365addab6377e289cb5d741771bbab5e2b307021c8e4f792674b4f84131e8fccc83d50299a97d9b09cceb9b7ce70be8e9652bb03e31ca4b7583b21c1a5ef93cab5009b6f6d63350a2a1db26edb2e76634b9b895c6f46d93fa45f7b182009ce1de1da8b9b0cf62e0095311e48c325c6738f4d8a74e95c4e0511d8ca448fad110e4d2d0e5667fd02faf0d4178066e564499508dd8ac9500f4a32ee1d9d9a3db7df37c522e976979175ccdd2677b5f15960664824edc083d393f8bb44b0732e70f3f6d0fb322bae18a0e678f5b65d481ace9c2c581b084854a36063a42d7e3391c3737df56a6802c5e4112e111bc64da25c7697f43f93f494f6e53b1b0d92d8481b80d976505cfb09a518ea8f3fd9e8cf081cb2403b147e4727e7299f7fb7ca6e702bede4b6fc773b024e5c19089add4290bbfa13bc995e4095b8e1314648b596fd183241c8983136b990bac695c5ddda7ce7e3498d3e7844e2343c8a71084bd532c56f1a0ee3de57fca3b0fb4be7d1d9b30d010fd5152ae86878707ed04a5e68a988b13b7cb0cdade1507aacac4eed543b673ca711d34d563b91ff85ea1dd6d462d5e8c19b66c3102fd94b894de84d1fa894ac8cf3834935a8a7d79ab1fddcda6a4b2884ebd7229ff2ae181da2230b867603c4c00ff440dd8b9455645280665de429bc2477a5a6475d15872a46bac8e1f5cad02d44c223a63aeb4ae815470d0ad4243ff3d2faf23e5b6b4c35582546202a2a1d29b32d20583e443f343ea2df77c343f367b8c0f86e8c49e3bb9eb5c35258b17062bbd3e468f1325dfbe368ea0f2ef3b7087a44e1f713a868bf68739d6303ad51ff7a1cd815691c224c908adbd3ad670117ce37edb1e6eed0a3ee2e03bfaa8c712c874ef150afde1dcdddb1b355209da27938dd23b04902b38597048258e5cb1a8d27f67f45c6ed13874c35856342a6617c853549969290d90bce79f745bb3511e24db02d05c60ab168b0cf712085da40b01fb3ffc2322130717c498c40807fbc09f22fcd33ebb08d3df5adfcfac6efb654f161f161d6a1d55acc870cf5a8d091f5d3855736fba18cd1468caac2579c0408dc678415192b0ebd5ac7ac70780bb98ae8b4352fad0cb300022394710976b7d53bd032b4058b298f6a329aa0ee39d4eca05d63b6ba050d1e3b9b76b48e72a2a5c5457a0a53148320b73a3b5ced36fb8ad45ad1567b60d9066b68cb4235374eb3e90210aad1ef4c6cbd6b4b5d48bc3bba2460f9879054338a3641f6b5238b442100c0876d9d35a5d279d0fa96c34a586ee7d0b1c9a82c0435d9201f5d2e32204ef13415a8870b2134f3f7d7cfaadd4cbc15bd305296429791be20b09042524ec539122554e10b089e46a0ffd6fdc072cb5c862eb0bc61d82a45a3f05aec087ff460333bc611b13e4e57eb278deead3c06b127f47cecf783a43731d61c6dddbc1b0acd6dcb49cf1cb3040482216f069a95373d9113545638b84464325ceb3179add66077aad0906ce71f973fd0ef51decf6fa3a1c00d97f03542a3c23d5a9e3a697653a56e519aafae7ee87d99f7c8b08333f1ff38cfab54453a5fe3116cd7810596b7db837b9f375ddd70320d8f4bad6f203702cb7aefeff6f3e5b9b819c1a30c6831e7d4bbaba4942f7e1846f88eae2674ef70e153775dd66affcb61418108622a6f7db9d98bd819cffcecaca557386bfc033b8e5f8202cf24c9ab8027acbdbf7e0bfcba9680f1253ec84ecf1a4f802f3790b267544e0f9759e8daaa2ee6720b8c69468fd18515fec2c5cf4210b4bdaf0e4209f9d5367731a80306617cb7aa9aa7846b6c2fc092de43db5752dc6ad07e4f12f0e51239c05f2ef926ca722a9c18647b25c7ecb752e3c38c2bd5d4eecd6da868e3a25ae1a20af92b739ece70fb9476a4460bd3c441174aa65646140d7886ebcd7a9a658ff6e4a8d65c98e2bd4c672a3a626073f8c7ab3076e657c0084db59510f8f8c67ebb96c787c92a808bd6091fc4160372b184b731e992cb28e79008e7b1ec1e05534cbc55e3df85bc9e044bd3796ad40dbdf86ee0ea1c23e8c9477fe03fb424e62d74a1f42db93806a6433d1669718dede5bfe5be8b9dd73dfd799f826e1eb85d32a01fe59f0fef66af61fafab35970fd0e9fa40d3b7f8c5e33200d0f677dfbac77d0bdb754acf4244179117b2b7e6d4f193622225d271d4a8a54a06e09e223e296458532ffe4ba0d6c8045ca9146ce05840cadb06190bea24474a3dc69a244d211bf2d600e384401561e88e98efd545d63a84c2028b6afddebf92811061a653df316542d7f4e0365a05bcdee373a602221d95c1da1191aeecb76b07fd62bdcc64bdcee81ec6f7e3455e7922c27ede571fafcd20abb6f4535fc68dafada999f3ddd336492617aaaa11f7286fa0196fc1f26d1ec3a7d73eebf3638b348c286f944c3236a95d579f7abf699e7552083b3d047b6ad3c2412bd26c7bc092b42cbc652302d2d5fe6fb773e50956137c72add4eef888f80b396e64bd6ce1096b73135d542cc07b47ed2b38b8780ece0b908f0a767bd7f5d877268f400da403a178bebcdaad9d7f927ffe9ae1bb4a4f7a8a541230b339ceb227f7f37e74bfb17abeb09814aa56b62f49647136ef7b0679fba3f93b823d34d7dcd47da36141d35332bff1faf7014bb9a70bcba255d838dc182c8e12782bb9bd3a7b360eeed88b70674487ac1e0fee0b843b004558047000585ac601cdfc2889a4dd7fb8dc7de17bd3027fb37d7b7210e56ed6f87ee5709a40791b908774b96e19893a789527cd735f7f1a81f75d12b5737ed978eb6734c866f1a3151b926a2bf8975d0e880ce3d6c58c8eef21efd62ecf9fc1fd7669098a391cd5ec7852a18d49996df9bc5bf2e90d0460c9808be5725b63c060a099aa18b03381498e91ffe3980b87ee4164dcebc7419c7cd1e915d211942714350cb824a308d324c8d725a21d16706b73e20d388b9ae939719b1794935e9a2a45bd6a8e01d0968f598f785e2d258af43678bb441ef33de6dd5e5c9dc812ff1f9f4e8b1a7c876492274af461b977c116075e4e31ffc899844aa573ae84d680f930c143586b1c1d51e7505e39657ac0ae3e6317c3c3e57626f2cd3926b46f4b09a79c7ca43aee7fd6a7d8e1c9d608ae90d365e58dfc9abf18d94eb44711c89ee85dca85a62bb444118ae452278f8bf3c752a228de09c1521cc7ff8e85c985cebe5b96fcb56357650b8bdb2f9557e6b80808f72c3e35ed5366cae10217911b25b294932b470ba734213bdd0ca2b8113c8be2a86fde5bdf946133922d0656a3c192bec11ac0949bae9be7c5af0513f5f289bb8a2a929f357573a3defa9771aab643421e66640f58b95d37b89dc490e70c7b23a700bf773b777150e3967e0e59f54bb937b3fa3a4502cc7be8218a984a636b475313ff041e55ee2912320ca92ee0780da723f06b5cdbc26dec75342261552307c1528f4e620e9fbb1c3d95e9ce0d970c73057d17bdbcda8671f317f5b0213abfff26000b12d36606aadf50b21cd0ccdada62686168da34ceaa70c6091cd2137aab5bef6d87a1294f540643ef63d9bc63f827addb2e7fecdb44e5d63d33d1958e09d5ccaa703b9fcea8f80c136c9b1d39e92261ac39806d4a0f19a5b3d502c7aeebef4a2cd3ea576938b5055a6ec6e26a090d2dd37b8962c5fe96d6c0a6c25eb1b4fa171f0d3093919561614d5805e287e60068cb756fae9a949ddc1dde170aa2da9e5b672962168d8ffc8eb4480238c534e884ca88544676165f7a7a3412f1099a333e93eefba319602695d9ec000f6c55a4294f12a10906c47e6ba54e6ad36c03a71b3338608f89d8953b324201e30ce8faff2052bc81667d3edd13d6ebb433afa3a480a4a6cdc7aaa3a6bc3b6d64ec41dbfe0c4e727240aa029a22aac3b620f8f0798e59a76830fb27491eafde83e8030c55bd15198139a2cc0f8a5bbb7ec927a1161455ccb3679e23145981ab640388d13c680f2a8651a52858cbe8066bd73849c8a3bb14aa0a5b28a89c937490a210019f461ceddff61bcf04fc3856454d079fd909ad4932d7c5c4d1995a4854ba5029ad8c70c08ef24da056679e224a3e3f0ad1c09144187a0402b7750cb8debf0374b23560737065927ade1e117966b1c51e5a94831bdc47d5233a2eca415c4359d05e5cd84ec477d72fbf526aae68c8c7f1cae4df9352e20e8e8cb9469d84384920b4600e2c731adbabe15d4acfc4f66750585cfb27923d9a9d9dddf6ada4b9f0e942a76beeaadb431aba12084a639aecd1b03ee3fc22d0fcffbc7a8f3036205f6c98602b63d74caea8635c9009dd6572213816df015086d3308d3706781a72cbea4a0a09fe9d2f160e1e1b134b04adf8970515b27545eba87ac7a0c0d844dfa8a1a37549b1acd52657df1b25a75b0a115ce1bd4576fb4d26466808af1cc62908df0c43bf92feeb2ab6658bb94de4241703d8d07da008ec26d53aaeaef5a6920100b78f3c73133407ec7c31281282250bb6f103c522bd3ad7e384b3d8f4d76e7b5d46b48b70787c91fe78dfac6422ed7ccbaa6e8e672ab1826a0f3ce13a01ef82aa88bb10fbec467a1ad0c01ed80164404d7bbef47d219f56158c6aa374de5ed6ed8742299520055a8eb98bcfa699f3cf6ec97ccc22b4ca407eb010dcb092064e8bb4da4344d268122126cee0123ea8bdedd7b1870fa81a8681857e262c45684651b5469056fc3a5fcedd8378e1912b330432f0ffa47dcc890c230694394e329258bfc1655ba25ad3adb14f4c0c0baa99c6b9c6e16d1afcbbebf3361c0e1359e71b89667f8103645e0f7628892440e85c76c4f4ec47110cca84778913a190fc9ff843c67812cf580059b028d4c1af08196c6dad6911863d5f0e035ce45e89bb75b3688a18861d7d6f04dc61fb80694d335ca6b66789d529eb9e83f07ffeb7a8bb17a21a1486f75f053499e7204c1493fc77fc1abbcc07627d48c6d2e9f17278fb6c93e26dcfab941a73932515a8600973babb240fb07fe179461ed27d65791e71302ca0e15602356836933eab43a137df3125facc640548685e01bed09822a342afa68c81d5e5f083efdc001539dbdf22fffe914db07d1352f38d4160908cd2bff9b53110864c0e582c1b31a0a6b418623aa1ef4cdae229563f4b05f1580614b94c0b38afe93d81ae7df5bc4b9d5808327f561e656c53cc0094ec06b6c48a197ced396def500f30ab2478c695b25e097c7bd546e31b9395a629bfd65b08254fdbac46a63a3b048de76ca54e4ca138b53edd9b6b5ceb7e2640746cad412f6263fc15e4cb94306f6208da92308cda63c4f52efd5685ac4e48b7e458a2da6cc2b4d7c16a85a661991f05eea407fc218e242629da8327cc2ef55b2572a2b726e08e8e2664d9acc377263e250bbec7fc42f8444458d7dc6ae368eba2dcc72aaefe07132f77e5f73db5370250c6066ff55a72ef21613bf4458baf8115fa1ec725f6c125ae9e4f1baea52373bd56ba75c81ee5fa1295647d1aa66d0d3cb8cc4c3fad21fb7293055e38fcda158f99ded23e6cd21ac81c062047d34fa6af326d7804c4e4b8385dfa7d642f70955fc8fd16d87b8dfaabec63bc99718025b5b7a4d2864477a1c3a36d9bfaff970f41cd341d232cb4633f21bede44fa2dcaea214adf18e030807db80c1f48fc2f25dc9f8cf6a1bf383fed7e2742853c04a9418178e67ee7972fd309337fd50bbe00e9e4fadba2ed7c89b997369ff70b53b71a22fc87e31e35562c942bc1c8e85884710a4efe6b550a9aa74911401490c29f45ab289cc088f57a6660f92f87a095ad0ee0906a5c8c500887a74dafcb023bc36ac5a4fcbdc43180d0374abe13963bbcde90d77ddac5b2fc074d1cf0e0d7f6e429c5e8bce1cda617fd64ce64d42d6688e72195ffb1ea90a833c128bc46b36c8b00b575ead89873304fab2ac016365e5afb9ae84f47bcaa834e415d9104f178058d35fdbbd5d29384ba2352ebfbd0a1d1e2cf83362ef529ac7dc46f01c58ff9defa72e1f14996b07879e16e4a87b831697e956108f24a7f01e67528a19f2115198ebb4c0bfd0f1ebb8e8366c853e54bd12431f2913f5f313a9e5649f23fd59a11415af6e4f84641f2e7b156c3ffe642b30a6cbd913b04de4197b34595f4e1f519d55dd2bcbaae1b79fab846daaaef081aeb02c3d216426e1816d34a15187d0a5b6cf902186ae52abfb57e523af7fcbcaf181fe3aad9c16ae517b07e14316a9b5eceda32f08694030aca8949530149b4c38c2cbb872c42cc95b1ad1d8f83dea298720a65b5baf33c014100eb6468ab317ed5d717e6d85e539c1e80ce9b143cd3547ad9954f6d64379c2f4dbfc700caa72a323cd9b3f304a662ca7cfd1bfb0cd4ec35d8b5caee994364b2eadc66fcb7af190c88914fdce0319a6259fca43423dd8c13dd4941bbccfc7589881b902e202bc20ee8e1bca1e853e152a30850163bd4c94dd7babb284305946a8b9f8f1bfba155232983f71e6fdf09344c46c4a82a8403f8ca3c3acb8032b0eacde706776ff5b0d93ab5efa6cb2fe0c2030c9a24da76a0ab27b4a6697446ef7a9bb8d851d9ebb6379158bed2a0a421639f3f88896cee5b57cb92bbccc99399adbc2de3499855f6ad79278c7f9d6e79d1bab39a112b4352f120812ab6e4587fdc2c699c8e7165ba2a84097cb02bc2e843d948fc02a3fad3973ac8117ee1525ddfe13e08377caf32b5f1562bc9b17b0ef960adc7a721b204bc2892a791ea8d3ea74f5b1257bf3059fc429b02eca5e43e592b302361df7235f3c7c78511f69d1ce37ee47dedccf3f1156f26adad2456718ff38d1169065888c489d95b9fbc28e5d04d9a4ae94045720b36d9c34b4cd534502f9356891da9e2effe3276e1cdedbf716992de921505f15a8fee7f139f9ce6342e241a5688fe85a914c2863789a4f2a51b884cbfc726de5ce785e60cb18baa7eebbaf79a854ad77a875eaa0c3d7a42179783b194adfbd4f6777f1179fa3816b0a2fdeedb064f580ca130090acdd274869163f8ce6e74ac9e87d65b62829498da2b44e7bb599dbbe571c63df088edd3b75b4aca8784a94d5db2731f9a0ce5cb5bb653ad99fcc6024db4797b22b7752c066048fa96743a678c614525da1f7644df46b0613c408da7a99896969c3324b30a5d0182e942085b5927aa0e2d31248f7d7bb1cee3b5f65911e32291ece93d56be9997e8bdff8de0dcbbb3b7061182477087d67564e24d7ed743eb76242c906aebdcf7e4a3336b14fa00cde8a61ef010502397fa788711a9a1a5bfd5308d08df7a3b0fb8b59bfe3672f0aa82b96550be8d887c38bed9395a956b5d46242a977540b95e01603f5856f24623a1bf6b0f031e9be818bc15fae77917025c89deedb7c4f32da19eb3104ba7a5b4770f9ca4221ea094c8347fe0e2828de513a1e3be25dd61c04c5de87f3b353163e64e40c3ef0fbea4b89e1242463929faa9a704cca2a9391a83bdad7f0a93475a4a48834bc3a3d20979c37cb80e701a49bac322bf26a0c1e3f561b06119b4a426bd899bd2c7a3ee65631824dc8290b22e61789230bb8f432114fcbf882740017ec398325123319d42813c3ab9b023db740b3ce6338b8a8f1db7e1d32e8489f4f7699307cb2fad1f3ca6206c5e7b980b7c35f77d6948b97537a2ca0de13d74bf8e2d4f3050f74d612b5b50db4957ba726708801bc35c1cba8508fd93f84f27f4ab3ce89658aa0bdbf96f9a9403ad11650eb6a5256040dba966a81c5fa005157e9cc0bdf7cb8bf1b8dd7a070dca2ada37930c29b3db690698620ab0d3f940507f928d4e02d773749c34cb5f4bf6d7310887058b067aad334f9798b6316e180326071eb016849267e1b34b862d2d0c3c14548d506369332893d86b52b9b59f902e656acc49698b7142e0a56ca1a0157fe1205a2173546d0681c2a001929e67b9dadf3370acf16a2b4c0f5be1cd1eb93ef7c083f0747c3e0c5e785c443c600fa12685a0e7a6296532b9599c69278f6ba744168857a05d0906654a0bc1beca60a3d0b2aa4d6c6cbe0f772b7a2415636a25b9032b388fef4f103085ad37715438a222718f0950d8810a2105b3f964e12320b90f9ed40f741690079e9f65fe6b7be21f7e570eb75b33718f4eb3eb7a971e271e86f143ade5584c735d4585e51a8b384997e9033a6e21ba84a293901c0c525924a40420a1d96bbde3badcfd256f3f99a6f32786f2530efb00774ca52eb512b93a177ec40baf69e3bc577eae0881109030df6250481657851c396e44a48f3c507690c58c0382d49aefd0f1e2c01622b8854b1681c9510ddec56123caac6bd6a33ce5b99d34023ae686dcabe91f4aa04579469078642a7c4114bf9f2d87146c02881255391b0095e5f88e9d505565ef6a2149875b02c0644040a8d3b503c5041a12f2738222d664876eeebac0dd3918226d747bb21446574c1f40677620c231c63af83e6f48642566c5cab1f0136c80acd0e75f6ff52485ff519f8919ce0e326d01335dca0dbfea91f814ac36be4f07590922d39ef9213b8273a0bd3531ef9d184eeb8cff6d16aa2324e5ebf135a90c870c569dfe97672f45890fb7827f49cbf872f30af6913330282e21e2179c19d1b80ca7fe7d1dbc85b6d771d59f7c8819dac15600009e93eeb79e92060de93b74fe28b2e221eccda3d5c198b186bc9f276cce51c0cd6eebb33b0b3c7ddd49f56cb7c86616f4521aca8a78bedb64289f713ae923e70d773886548c825cba223f26a71507dc1ca0d20dad9471ae918dcc649f632a05c51ca55ea64378b4b8e4604fade07a497f3a754f84e26e8f1f49c8abf746901c8a087f2f71f3203a0c07c45b82e3586dccf80f77346b4cd2759d215324d9d46daa1ad8c4b5eb29d852773067ad4d8e72cfe2585f3f0a500753898ed6607822c16827533f28854b2e7a7cf05441c897ba76f5acbb9e44118064952676b318ac0acccb3fabbc6fea45c420562d1df11442b691c5a6db4054de273fc77f9287e0884440289eddccd72ee06850990164271faafce5d63edb28292490763d857bc91bfe6112cf774b95ec32c5dc3aab60cc3ce10624f5f251bc1e0617e046a48ff1e4343a485c4e5e89a427741a6ce4121abaeb62ea34fad7384dee9c0e1561ab9c463cafedd1e4468311fb9e92c5d5b2f60d43a0bfd0636fdc6ad5dc8536f734a9b5994f7491c216672886a367dd35bc52b5644290004a441c7eda5e65026eae1e5c2d16a92a01630b741a862a6c2c039323425ba9317a99857943621274e660a65157994f265c0fb76fed68f6f00f0f4e9fd013ebe1ab92bb3c0aee5371f0d4750b9ad3023c6fb920c99e669902d7e902f6503cdbea38253eab3ecc0010141e9d7421707b851949e377e42abf6c233cb5cd94de14192bf4c740fd00f339d036b1f5a94896030c07db9e1359662f4548f1864bad851bbc444bc4343ab2b8d6eb7c02ea7c477bce473e56fc43ec90296210207f6cd4170e736f001b23a5b07a3ad7cdea1053fd72ed102feca94f25619f24ebdc78c745789f3d336db3778a4026a326de300f028b02d18909bbd8ea7aa072f4c751039f6552ad30e384a53f3af5d0ffec925100f4f34a3c8ace004bee1c23dcc42e26a8e0ba3ba2f04d658ccd886e5744b5e27cee85d577fcfd2b7314d6f118b136d0cd95b1077d6af1d966b43c6cfb5b5d44c5d24960b706b658850c0587e5db9d48ba47de500874b6944e9089f8df3dfc7a4dc34bdd21ba7e32e67c28aa6ee4175e817f1ff3ca3958a1e97c61ef127c805643e9e4ca660f50c5c6f022df414cbd49483e7b105be0d99f5eabcc75418b6d27c7b5bff26bcfe5819c36afea2745332ee1693de5b526533a4266a53444bfc1116bf0e1b69feaebad110efccebfcac3895dec8409b081f8fed6d7abbbf857615bcad96fdb87235a40b9b14d2c512e4826347275f2f33d8e6c9442912ad4809bedcc3d0edc10d01c6221c57af4ab19c4deb5ffba71a17b22f48fef23d28b41f7a09f96b7629d46de8bf11eb0be8e622a23da73f5bb7d34b9e983bb56232ece8eaf8cf1b5363a63d899bc208d175a4d3974a547cf7d5f88078bcd50ac6bfef51c028c547245c52bd477e8043117e1689087ff240052056b02fedb8a3114fb114bb6579be360bc9929a53f697985defeb3b696d9c616c47ad99d711099abb6200932400ee2a900719a4b6f418862f37badbb3177733e3938abcb387cbca1d3673379e626937ce8d3064cd0695502223050d0f01a6d55ce1c06abee941ac053bac9c1c3b5afbfcb6845da4a861f648aacd3c496c0795856749d348b0c145294c669bdafe5e1699b97200ee6301a0f5bf4c3dc87378415e4dd67f0d4cbd38ba3d91940a1c4d029df74eca3dbfeae65c08a43a5284a36b731fc5e928ac226bae04a5f79c3243e7aa29d26588dd2c1325a331f436a77fa222b4e1572a709e50f20839b4542c3ab9d770262c3ff45e32f72372fdd83ebf51d7486739dcfceea582734d66bab00c525fa35c5f65ab36b2faa6663a2ad710d8cd68339f966045359b08e3ca541db296fc4ca43e51f2ae8c2b0179d874aa390d771672a34f046cde4319f12f731969dc1c148386886e22ae0cfc598bb662ede64ee668c40c4887221043757bec8d3505a1486cf754c61c123bdac7ae1993ad7026b78decda693fabc789e8b77df3e7295246864bbcfafc5d3bf5783f74cdfaf7b845bc063af3e40efc8f6dedc7ba41e1e8f26e22af95dc7a36053c65f1a5e1caad539fc009aabce85ec00126d20a3b9e636b06b812be44478bdaf78c85007337846f2409f5573bdc402a92f1adcf3c24e91a6a3812191ca0671a71fde749881585e2b89f017768209af0f1fd980b6e7be5ef8a10675b10a1d48249380a20a186cb6dd2ce3bfade724df57e69cbe9cf2dc5cb5338c03ff2cf0d30381a504a75fdbf76480565afab80df42cd47acc8549e7c412a8ad0ef8afd168d572f1c44b540580aa6476a71b7f57b5c32bfeed16418b24d92f8bc9e2fa986b3e3f576f24e05a647c1b7bb601b1736dfd24a0b0477de929cf3400c7e43dce2ed52b1b143016d1802ec8184b75ee80e45d5b990126cb0983fa66020102df2bd1dc52d66ce6286b00d18d84449d21a90d2a8254d6a79f1d2b6f2d3979a844ab698eebb47a52d87813db25659a606729ea0623d9d5e7d7e68cd4d9d45d066cbb71659ad40bf08aa0b3bc3fcae1c751e0e0a1786a781640865c893b4be27e3c140a92c486ab1e432d2ba2f0729fef018fb50b4ac0919b12c2808c03736946fa40364c65887c6963f8679d10dc4dac376917861018d2808c9a56fadb3c7b47908a5a7276d53b21110ac50571e338ebbdd3e71ea7f0dfdbc108cb11560ea7f073b95cadf0bc6817b476fd253ea89606d635207e98e65bcdcbd3199c23bbb2454cc2f07b456103f92a2168404ddd1b90e6a665e135346fc3e50e8ccc5d52259918bee349e48e0d60c01b191a652d309843d19b78af6fe08199c94264ebf964f163844ce385aa9d1f663dc484a83ecd5a2c1796f2944edeb58434daab4197296ed7540d1abbf237a5ba7ea63f9822d5497bcb35a220d0c3881e0a321955d4961e4551aee41e90f084ad5f649fabf9ced0ea4134add326349f69d0a3a34b515f8d6ea93153d53a3665d144a9bd0cb4e1d5f5fed8496296cabe47489ab8fd94b34a30f548a8045808573d8845a9c305c66f4b2b15cd0a0f985bb431123424bfdb54a7ca0c050bf0833536328098cf4beaa8333aee7b64dceb55b962d9f85355ba0ac0feb54640b1d0a087d3af0cef0725c13fb15237b12efa84a1fa71a549ec28e5a5d33c2dd04f2c5460e64cc7f0f76b3dcd94d24c72c32dbaad76f54293d792f9efb2d4409a5bc4796f16d1c7ef9468b1ea39f67fdc2d3498587b658992582ecc48dc21e271910edee17d0e41991269e5a460cfef6bb3e70a4661dc9c94fac70d49e44f9407eb3ac80b53cebbd79e9ca84573a66a9d6bc2a84a7edd3c8dd701c3873c6c9666ec3af7400cd6f2e63ff34b068c5f32c5e63a658426f8073f4d6d092a682e8013a73d54052640ac08f414c210127601b788f3e834e3e795ac39bf4dfa50da969ad03d1c4fab211781d06868b23c7613b85f24222794bbb900e41d052b29c989728200deb0d1473f6158490c4b1d5a541b01d1c0794615b2544307d3be5f961d62ce7bff9af78744c123a6c7c8971a8ba0854c10d26fbb8f0dc6195600fb850adcec8fa2f5c2ed6cdfcf5739e88038b89e63ebf26979b1da3332877507e8d6efb6d4b2eab4c323df01e08ee5c28e61db9c3759a6903430162ca6718c8498c9cce6a360d230104b0183308399675c5c2b93c7efe9af5bd5ee1b70341039f14fd8bfd6817af88ff72510c051d7e0d886fd4f81b82f9bc274b465b339259cbda992864a5eb2b25b950f47d272dc99c2b28e1e4e3aeedc43002e5d937719c36f56cbc9514756f0247f59d1cc3dd2c7c3aa78c9433daabf0f94b8b54e91cedfb0a4ac818ca061c59e6d061f4762f4c279c218c587dd6ea36adfd4583c016ceeb2f6b933fe545d531426f19a2777d0895a09156f118da15f2efcb23cfa0a01ae6b7d3435a974549c7800e8b3d091832a5ea54319002a5c6b6d041dc8e61e42f79553bfc4e8ed4c738701b8e2773b9d7911feb75805b30fd0e1cf7b58ba6fb332b4d5ec69bd9d515d4c538f857ec3ebef8d51a60211b7e6ad07ec9683ef17808aecbcfb7fc42eac036135bf33844f0e535a42669df18b10f2691d84d8ca89bbf58bd5aaa8cf5713d758ab4cc56605249fedde0ff0f91ed5f7f7cea1d8dfc78fe57b2ccfb88bf52d857447af7685822cc5e2a83e278aa771e52138163512fb4ae9a4e334085bbfc9ca0c21ab81bf3b9ff18a378dfe53647e42e724c9e73c3705a08e0d299315f00d23503beba6d516330cf920ff4dca7e16182ec68af24fc2194e09531ea7ada6ed7b98dcb64aa9baec7633d31d2efe76bb6b0a337717a7aa99cd269c7f684ccaa6e64fb62072c1dcb19df48d70434ef001f2c394cf77c6940fcb88a7deb50364c42c0fada1a2ddeb2ca00791fba0aebe9d8647568a2e42e64035b21c5818fbb2698b2fee032ec2fe0a1000bc0243f0c3c2666d13484d79f84560c44bf3ec0b12a2a52eb13fb84c9fbc9ce05cc0d6cf2fc41a6f13988b660a720581afea8ed889d909c4fe4295c0cea386d54ac7720257899be00933193ecaaadd0f117530f02e3549ee5c2386624d0b94ecc47c8809c053063e4e7b41869ddaaae11464a4348769486e822655f1278431427e2d9ba997da0080278561cdae2ebbb835f9a60cf0e992f4bb0e3f9d695d87e1704a23e45cf9988b2048d141e152225562b18e1d50b56928b49c2fe4c223b67862ba9dff9b30babb5b65ff38f3137727d77d817a14c505319193c78c72a47dbd3f5447d048fbedcd3edfe21bd17fe838d4fa7354d6f5d4786f68c3a8e5a651de92442f5a04f109fe4893f08ef81c19f0dccac910f0cd6fa078ef947087e385dbde139a769cf6cb6ccae4d146e1edf583598676d1953bd45608f622912686385fc5a2c79f66f46e36dbb82a1a21b64173d16ac030faead0cf416472985cd3a1149128ebcda9df750601a142bb74f992cd6721fe4166f378538ed1a7dd4c528a0836ddaa9f4ccc9b9e129cc757880e875b808ea045bca26536dc8c5858f9a3f37799f5bfbb10ffe86957ae4db2fccdd59dc94d025ac5cd48a8ad98a2d1e2a671b3db4f2de641bbf8bb627d3b5df99b1aabb71519daeb62cb1484238fe709c04c253d39ece5b8a078b44a22a11c63a6510d84c862075860c6319a650166cd9423924551c488be721f016eb0189a0db96edf88bb5f648838bd892369c403cc4d2894bde38036d5da14550094773c21d345910912cd373a138b0bf890914d9411101f2b183b6a5caf285d6a7b4ab3de26f681732c3218fc55b84aa45b8f1b989410785e1fa9a9223c2e1cd8bddf07cc490ae96a3d12d4cc48682b2b602c21f6a405a11fa5fb59a3eefcda01ffa280c5d7009318aadfe8e0ce781ccb76513ce02a4abe756281c5aee7393eaccf24dc8f7a0d11fd0d5a75cf1052d337cef71f38d40cfb1885335f97985085c7b2e6527d2241e025a8fd6012dc81b39cb00bcd983dd4aa6ccacaaa90bde1e2bc8370cff568fbe81eacf74c32fb0144d6fe698a7b80753850bff7545381b13f54ee15a928146909a01f7a014643fdb17c138c6bc37e86381505c0a0ba2c7c229d428379173f317655ae1fadf953d8ce7bdf341e7b79d1693abf0384258f99d4d4427ba140e1abb6528de6790ff9a6e8f8eabc7c68c49f1debe09c95c89f01b5f712def867768ae699820bb9188eaf39fb6465eddc633d4c678c4d5ff2e74ab6c71bc9afad721ae8bf51f163439ea4a82e4827e105f18d1fa6762f0a9926079e11241014103d15b0e8e31ec81f5f1bd3ec4a7bc790ff2d3366219df3605b2da0f6d69f5af7f9759d2677124b296ea09eaf6a917cc84ff7e0ee9dd00fd1dedadddc53932814dcf1239d0e3152257b895e8ea5df1eaad48013c4e85534b3093e7e0738fa2653f173736592c37833740d88876a240447160ebc24ab4164dd032b3b91bb005f9094874c4d6df8d6f188aceb753c01834e93498466a1dcc35be1f9583a44146ac57fbba420b5bab294c239f11eee62356d29992b9092628c9fdfd7338ff959381b816b74026cfdc5997b3e0a46d1c7b4065b6f3a51dce24d1ea56d64076d8f6d02dae74ff84cc2ea57ab6b600751d9412dfa207a01f71e85e6fd63e93420fed4d06f24fc690fb7733343f6839fd5e9f3e5868ce6d8c49f789dbab9cccce0c77a4cd68fd4c51ec37862c37c3f70df921d2ffa90f1de1006e044c0e2e9b7ead2ce60534ee2cb22ddc53d25aa8a65cd9203aa4713db1efad28c1be8e5a462afe38bcceef006c5d51a8ac0c6812eadcd9ebd06839cfa7f3f86df412d366a9a72d8d0588a338d1d6e0d1cb9de7cc9e223eee945e8d4725736ff587110e940d2f3158e447196e3bae424ad83a481ceb68135bdc7983829c606a566196a712d1450411ac9d42f78db0a02f7772313d61eb45c65eb84fce41527d66add89961c7d1cf97de1eb3b9310ddb19b971858656816f2b50390fd6784b99f245efbc2ea39042545990944f6be4124583eb83816e7074674ba70f4f04459f71eb73517ad0f91496f6fd748d085fa94b07e8bcd6a2d7101d9823ddc6c417b581651e84c2016758611c4597fba7cc2369df27fc09c0338507edc43c345d81aab389b07b224a2d9adac350e7f04d4f174edf490018825864a70533184b4252a69229730b4596b9771b958cc766cac66c05b6d8c03ce5aa3587e56eb47926ce6aa1ed3a43f7e89d75af181ab82c88f8df6b87c872ba5e31165c5006f9d915fe876b337d403753c98e53d57a952baad1499f9f5f90a556b52bbce697ccd2ace9fdff25f2aae40208d44a94185f62951efbb9768dca7fa5e7b18a6496793f72a9cd1d5a7aceb901c54b9bf137bf2a6debf7fc9e4a6f663b35d0e7f1e6b28967bb125afd810dba6b8587f7a0f5daf107c34640cec9d976213cda244505176fdcf799d37be3b84193c939cf244505d300e680353a516a398f824d4471390c9709bea1caba04d66343c289351b99f848fb224c9fc09002e93d0ec24205c9c45c305fb7d24e0d3f32fd35c8f686c4459f8c13b115ace579f83d92745459de9cf3f8dc105ecde390f09796cbafc3d5fcc1e8470aca7e4029acaad4e2c31c2e7462794544db978ba2b1d76a86e3a4fd8eb5c8ae90b14af89570f4225fc9ac6d9a78450dd4fb9f1006ca9221001f9855fe4a8560b1170e068c3687379b0c8fc3744d233af5eae992494005f925d863074b1e25af28551439b456c771848ac3e2a0b897efe5e25f3a191c878d0eecf0b620a80d926c2e910ff7c685c1006eb5a743fc3de142d30bf1a1f8f756a8b953753a73bbb8b2271868ab0c913e07e33d57bc7ac15c3228d1f6c90079ff4f886312bd30bf2883fc1231d1ed4d3b78ada2839cacd039a367936762eb96d171699cbe465c934bf3108dc54bddb6f05431699f79ea62a18e66714310c17f0369ca6a258c9734fae868282b1cc9c6c7f1007a64c16d3a45a6e5d901592bf529d4ac4e9bb3940fe8b7161d768e61aecd957fc8036c6b71d5a6dc2f536c489696df54fac59414c4f5c3bbca2ddfb42db5500552f08155bfad0ef85a339cfbac330adadbe97eb84d6bfd242973435beb7558e54e30019448ae4643b863c5ecc51e3f9bb1fb43a6047e4c841a39b00363b183990e4871bd5ee10cc85ffe231cf41efe844441a4f6864a353c8ea6d027fefbfefa01ffb086d4fe712c83f3eb8905b5ca94c7be58808f17376ed3f918bf03685e84f406edc80fee34590fb4913ab2cf7b736c97c78fdbd0e26f95579dd9e7e8e38c7d8ca28925faa70b2837426ee2d2f3c2adbbc80669ef94b6bdaecccff7224ec5ed3c9f56151ca82314bc39dd75aa6a82c1ec1414e83875b1fe337223d727c5af582e3a8ffbe012e9fc87ac1f07747d91bb46bc29cac9be635eb9d022ba2c76be174ea9cce30ec3e2204ed0575aeba4e15f9455196fe4fd12feacda8bf6f29d2c4cedd3675e261925bc6643a2a62ce900f68a87fc966c9956e7698bde942a135008624ca8eec2244b1587f5d258ba1af77f281980a20a56221588569acbafaf14c81d86b6110277bfdcd1654735af778945b0be48ff1fa76b5576af8f2ccb3c93b5789bfa93df0ff1b215811b0f5731320468e752f999c0979f0adb546db7280278753bc7671478935a4c986bb0ff04a73e65fd4b1702c26c6dd9d23246a4b21601b7c687722e9858818cb7c71639ca7ec1c1e91895a6da60392f3697f064c3c751217fd12290f50c484e3cb320bc61f63ee5951f24962131413770782ace173c71952d9de31bb01c8693135fa92acfdc328a3c34c3c350c554de6af85e94925d7671b1d5b77af7edceb2966c0141324b0b632a6f0d009995b4b14129167bd9a5332bc021efed959270eb9ffd749d38ff9b0141a598a90f03cdf43c171b5770c46241168f83a19e0461c4f0c2b1cb4f4066eaf0816acb32dc6f50b73aa917814f3668eb4a431932274d3893624b63205a4066c09474c5c757ce4382838b2c9d8b438c35cc2e40da4439b9d9132d718039bea01067df6d0693671a90785c0f784f57077b9c7477d6a18369921d602e754230bd30b8599951c5ac8c93ddc5c2f48907c85c5dfed022dbb0d61b8e5ad80d842ceca227aa26c1dc1c84f7cad858e9f65fa8e5f42dd49d6584403e56fcd6f037867b26e87c242b9eedf3ebc4073a3b7b0e0ed2856292b85f06d80ad2151a4cfc554b56dedd2fde6ff4d4510b0531fd266949a3bfa351768018de5c5d62b12252f5e437f5ddacc0ae47de1c085278102e138ed249caddeff9a6723a980ac28aaf01ea767ad90c6e289145bd21d1ec6d8dd3b6687b125109aadaf485abd59f9e22dd0248775cf74aa978cf196ef649b0e3371b8030900e7dcd34d9a7d6d5e8fff04dcf7ebbb4aa50223831fa4a68a2bb2d55523a7b02f2a5f803c08cc0dce0cfaaf775fdccf08e481b905401dc80bfd1739d10447863ec9e612294a282bcc73992c007792497cb66f1eedf19761b8e4beeaf0f13d7333655c619ee50e0eb059fa659d4190b7e6eb36594761379438de56c562981981ada1c31efc81c0b3d92afdedae04a9daf15d6bde233cc771b3792ac2c1c793cd999970fb79fbb4c61bc9d896ecf752430b69f256880546066e8da1c1bcf82d1c51b1ad7b1451b37ee481e20b8fbb65e3436422c855350d8e8ebb89005bebb4541973eb76c66c54581ea5db8aca1a55e0fd89333e7609acea8bf485ee10a9854f290f339a8bb263a50be875f64874060bc73ff8ea6c07c602855bafec89cb521029803648d6ff62858f90d9cb594450c3126da1034624e482c5ce3eb7f41f3a768fec5899c67aee0b4ec37b4a90c575e2f9f035214b818c1602835279168cff489786b26fe64175f7b88dbb00b613a702702e5e3601a0b163b7c27197e9c1799ebf0c175806a8f19fbd4aaaa7184f6648815795b8d3890bc3b0b02ea104e87e23bd71205d6bf1b1d0ec2832fe2bd7500c14f90a8d1caa399ebad6dae18332aea087d28e763840361e7ae15fd19e547051d72789ad1b6d7ec69264c49c3f31b2fafc7deb55c6f0f2f276e689f2f454a158a4c08287c6718c14537654ff8e9cde4b0cbb68e7c450486c6c009aa3614206f04762f3c6cd430d8ae5c6907f3d967e5b39b2917f15f815c07a2ec6a3ac2b50167ea3cca671409082a423f9e9875e6d535d39c91747421161a918fdc2541801212511d6badb4ecdc53da867c110b1255f248ff2f2e9ffa76469c50b2d8f89cbad664abec3f96faf913846b04f89af44c4337212b22e7ea3c881faeda1520e379244f99c1f0092c5f9f68dbc8f4b4b8faaf3c7dff6fc3e9f8ff54e2f225f363355b95b074b180dfbc2fe343793dc7ab82bb04048ec8e9d914450e2b3f5a68f64c603c22ecfc416d135cec8f5e3a236abdb286b57754a2d6b12465acc26ed3b03922ecac91aab7501ba6886095ec55f250163b3cfa059a5dfaad5fe576b0d8d0b265690edb9450df3be8a151222a689ea9753d7936826083aad3c852f04a317711de58884180d160ca3ed76f93678347d7534d9a4febc8a4d7e9e7602d02fe02387ced713a2d46000c53422858fe23bdd977f41a07732ad8ec7cc24f754307f124c30a252f6a10caf402b5a863fe7faf54cd6ab0d77c1945064ccb9859384e88ca4fea2591de3658947b2440ec9704404068fa2ed664d049deb5a563d71c605d4d3c49b7f388dcd8498be4140a6c0f3db4f7bd838de9e6c5b81980c7301ca3c2e7ddd294440103c35c885626f378e6dfee18b6b6901b9d5c46b69cf48192ab9b86f75410a9be55cc595ab31624168ee08026bfeccd2810efb48440596939450d117972a060d6f46671b302bf361a3f596af7c664c2d4b552995bed589547d9b5872d0a8dae0847a22e101bfaa045863a0342eaad9675a3374ae3f2176fa68def633453626a8f24584d19f089f6fccf7a7fd3c032c0b50633b49f227dbb43df7cf3ddd206fd7e871563f9e9f6a80ef9a1d982bdd5280e5e822766c7123e1682ad2bef6a178620904ee97389223972000cb9f651a18c1ab3b458134fc89cbec81ca760ff181a3a412da6b162d7652cb47d4b78875af6e81f152c7662ba1fc265aa2acaf33b774d25a150b52509a43d902203306a9a339e8e9da8d32fb16257b9413ad28bd11ef47cb0e752d1c55101ef800e55738945cd3804208bdb45cfe8d47a5e098634264095590079c56c911ea14f6b6c929635c0edac4db6fe976d6bc42262ce347b352b322ffddf48d808bb474c8ca5a819994d4cc8265ed5b6223008ea1b3bffe87745d41919a6ec4c69bf70db18de0e75fb409d8fd53f072c773123796df27ce0e25592b117161e211270e6d4e1a652c1a20268239b2910918738b09729701cfa6c366fc77b8465821f71ca5982033eb7c51a867d4eaf66fad3c2201ed7e2241a543cedf6d2d01a98b3d5adc9a33b7a99aa5166ea5e92fe29fda639c854e96b1572b4d35a40c3e662068a01713e26df084ad4c1d88923e1a5b9838673986e7111c77022dedc3cbabb702fc8b34bb6345778cf548d4d03c69c0864b5b06db56e2db8709f36924cfd9f10e680c4d2978516fb38229eccf46f6c7ac28a663d75f987fe1556be58961fba76a0cfffc5461e3c9b4aecec573328f4f6db46ee6df96aa1e6878e03c8f8a55e2453e336c852a146335a51711d62a2ae387091cc113c1e63c3c570da6273dc3a644405e68d79fe1d8cdc6a8ca453cbf70c098e06aa8509c49662af0b44fc61656c327bdeaf20528aed0d58cf0a4d8d7f845eac046f83d9cfe11950a10327f04397dc5df169f5ac91037f70c0929599a68bb27ae009b4fba23fc1ba6008debe8300f92e37a8f8605167cadf7176f968ac05653f1cf10075949596b5a78e1c1ca7da1b8547f742dcfde9d1dd955b704d18ec1c06e6ca5e97a69b1bc04ff073362eda9bc43ba4654575c24be285b39515eddeb9715cd9836278cd29702dc0d3ac260af9cfb771fb1a702f62e5565bcfa28da7ae1bfb9a3f70fb14b85776f8da804da473b760ba4dc7f5a7d7cbd25096842b5c495d8c1b4f50f2b15ddec54d2247ffd9d2b38615b21a818f0e84672b1f13ad9b50576be7e1bdcb304fb8c5a519f9e85833941c144ddd17ca4cf49fa8581f7acf5e437bd0688ae51e95668c1b1c88ed884b2cc854b8139179736f474d7e4fc24224851866e59c615a8737405baf66c9b465068e4b211fe1f53d82225e165c509a6af011fb58a7b040fffbc85c8a29f6f3b2b837e463467b02f4d365f805a5535483d23b22edee038b92d77a6f65c5af17aa1182757d6b2ac9715397b212bf6ca82acd9590d6359e8ce0df672459e59b873351b1cf3fa981715a46df07a217ad7e1981a29bb07ee9a17cd2f5eb4fa696bd9d37f71eb86d53cfffa0a0af17ddee5fb2cec6f1f091941e491aca5cc5b46b40cef7d9052872d6b4ba165e9a9d9cbca038d5ddeb2e3094d6df9736637afda9529f9ae8c3f82adf8c3a2b1e506dd2ed3e51e3eddaa62286aee7898d2d85bf2fb1ee06292ed45c4b0d771a4276d9a61027a00b9ec14900323af2866a7321f0b29927d3746e52b342fcae179b9635fa6c44a7ecc940b3ad58e8a81b38b59f8f8551afcca45da264766d965dd425a8f03963322afce52e33648629491f6f41fb5a0db625427dc64be180273d9406bf254c23b5f3cae9f3d96aded9b724fa00d4f1c331a21fff1f541017860d0a68b898aacde2a9ce87afa73508e57d92ee5d068999a43067c0313c5230014a62162dcf0afd56ff8ae62db7afd072a341a76b5fcb6e91bf464366dcc993582bd741086d377d20b20e71c6f9b63c62cd27f5806a567af2be88325e2f00960e8370588149dae12dae774f9719a8a8a0388c287f27dc5adab0f33fa525c964d774ec178589140f7c0c927376403d2288d9f6f3d552650a868a6fe78869570040534a6936d17f6d5c939a2564ec271e8277698eb3f7cb9d750a8ddac34cf4bfca8336e80838b3cf80515dd5d4f084a33a5b74f326a5d4617c32530b74cae9ab8636eb00ba4b8d54454fda88f97a2e915a719179b845c1673e8470b215f1cd148ce95a5a20533d737adaa62ac776d9642134b695484b724bec99df54831bad7966fd01a5b5dcf240d09ed0b90cbbba819c133869bc2c98e8c3e011fb2b2b47261824b8b32cdb295aa385594eaea0c07db67299362e2fae8750e992c73a1b5f2c2c0fabc1bddee02b2328529658f36f90f34e783ff94482602f7aad7889431d4291eec96ffac9331a2c8c77ece9c8a024a10b3a0cba5834973baceeb7f8c44b57e81b809633072059e754cc2d113f6286564fb62a7e91d666445869d1ddc186f60b58ace1a2d30eee18b37886d43ca758bed77da4e09e3eb8678f7b32ade0d3fd33355ceb08a6aef3162d5b21a3bb172445a72d144b4c7ddc73be5559563fd2f96fa37f83d95ad595833c94cd457dde148475b56a79ee064bb8ff69f29c3740c289dbcd0aca1a7dfe2adf13aa752f30f32f2c57b8b0e31653a7a1b274545afdad56b324a20e23de3a7e0156d51ec9c93bfbcdc559444fda82dd285c94243e2a878ef42d583960388732bb635d2388877eb432aa0a97551a47a24615c921ea6a53df4314a097c7bb3fdf9db5be9913ddd88e8fb34c17adcf61cbb4435887c26952796234e0045635b1ac6ddb2e0a2d7dd1ede6de25c6b8fafb23e57e9063429ac43270c87f05c7103a7a2aee574ba76a8a2f27f697822eaf4cda6e178d664336f934c762eeb3f64a55ca58b66435e7267a8a4ce09deb5fb461a41fa8a2b310735317d3e38a952b72040f9aa31b3ddbaa521dc8882e8a13469923477ca33d8a88ee2e8c0216ed11601d6d9bf546ea07669c8b61c77eca432b733d647fcf2785f53cc46e0d658428d81e2c3ac368381c070470fdbef488427583e4fa60ff03cbaf1d1ef99cb0d8db40eacae424915efc268da02f4a6807cac3ebe29fee8d4b2a6d4db849dc41b9bf31060d14d2980740f6fe91f79d4205c1d6763f7ef1fbec8e5ee8313426f0d8e68be027a65a2fd8b644ae0d8d81fe424ecfaa639a4b4b08556421b62cd66c0d361703fbce7943b39625ad3624c4eb534c6bad9be634cdf421a08736fb5c7f3d21228c7e6a632d6c3eb6adcd6e9589d02f8a36be42d03e5a01fe0be8a67517faa6cb02ec23878e74d72ad3506496a3b02a9614ebf17e3bb0aa83612feb2b6aa08f81f52e0307d02333205eb5ec28c77baf7426a96b0230b12cb0adb8c94813dd9191af5688b114715f1f54729e3a22aa6f8d3acd4a3e372e338b995b5b869f4be25b15612070acaa614181e63a201d6fd7648d5baa1cd113b86b5ff569236d9e3405ba203b8b1a127253276a07ae03177ef09bd20cb0be22bf793db30a762714963022a2e048004675273ef707e3199b8566494b277c44b4288b1fb6931cfaf81c876675bddd1927ca6d39a96d05f3a1b5552381c3bd80aa7f5baef118c0b4cd03809c9bd36d4bf00db8d9177153c6589376ca114cb5c91bd1f3c8409783488ade9104cbbb4528135c69e2afc901931abe089bdbdfd93d855ef3a8a539426a31bd7811fdae936754ab6185d2db516176686b51ce48d6abe8599d024818a1e83d4247fbd5e1b2bad7457aa77ae4977c4771648c65cddbf7497fe2b157705e5224862d0a2ffcb3b9a810eec5cc8f1760fe22ee33bcab96484dcf188a5753b5594625e27d04dcbdf05fbb049509dec3a8d5acd54480ab2dd876fd1bd24704850502e9bddb0f217c2edde6c66297470bcf8a13b4442ef3076968439a62868a5037b11a867c827d73e4098a5b16fa7ebc66f6eccc172062c98f0e7e29c95fe887145d67e680cb05cd89d4b0bcda6cd98c18d22e72b2e54604740b39ddd62c1e38a2e622c36f1a2eb4034476b2b4c7eca11bc094b5a3b38770558eaff4fd35000b63749154424a584b8f1422337299cedd536311324c0db212a18dd7249890b68feeb38b5251b5ac4a029e7753e676670f625d35ee1aba2c5ff07fcebee0c91f946951d910beb0da793fbc53ccc251b6e8082ccabca5c9134bea3a36475fb51fa595edd515c0b8e87bbd0c0c21cecf9e8c6c250cbcf718633d3e6c0b1e18fb0438efe31979ee91c486d75faedf8e9cdd214ad2a066db9c38436eddb69f7d75be89e3fe96ee296361c5a16c6486415984db0d66a487158e63a1a0889bd66782020b5916383555624892cf8b5c541f01a8bb3f8c75520bb477fd8e6226246cd60dcccc4dc87d62583fa2d606f881dc5abef8b42fbbcd5c2a651dd3b30dd68c99a7dccbbbe78b11fc3548fe8e7339ed72956c170a70090f81899b1608f53335a061428343dc761d31053b2cf1afab6d1bf29c31bc56913abec6e0a6ddafdc6494c541d602a384b8e8e0c72f8032cb56fd94ddf9f78101f9a3ab46e1969dffa498bbd424fcefa44e194059292a39d251bf0394087809c7347a6bd802cb5bc2d26f02f5feb64f6cb496fb19e3a64d8897e546281747808f03b1134595002b759944de2a9fc0c7efbe334b82714dbfa98cb74e525975a837894a03d59868100620bf9da2fee6df62308eb0519b246930aed0a3f2c72bd227f924ae86505ceef539d71bfc9a0b817650eac068cdae6c81a15278d26d6188330f224912ee2349100a55df419f06516c3d08d96200685a1e70928530aa1a36301cdd77ce88f43bda81ef26bae3d616d14e7954cd79bb3526bd71f997a9b25cb766493dc7ccac9c977461395e7ed162d830b724b77f4f3c1f3ee6fe73446d29fbe8139c3cf0f5741f54d0cc08c8e91fe8024867d20a11d560c6f5e08f36b3260e6caed767100b56cdd6a6627565e4daf00b6b3bf52f97532a1ff59a0d95d5c53085d94fd55fd0a91989b3926a010122cd3bdf5333dd8aac3609b0fbf96cb7a7904bd8ce68418cc9045b70454672e1e2fc15e608174ab3e36154641b5b4f98fdda909ab0e6425416fa0054816014d9b2da173c986e7d4faf4e6e3ad35bbbadad0d525d3f7a5a0a94d130cadc7160f355643b3642578f00bfe77ae15fd2b874bc011ff4e7e1a55a8d86f64206c0b692620e65640c0af180f471aca024b97c8a73031bd397ba06ca1fad27e965ea63561ce603fabc89e65b46b8730bc1d5b2498e7ca8c5dec68fbd67b262654cf0c59acfffee567460e4619298d76aa3a887cef4164a81ad5b4f38104988b16ddfb9add7a66f152ff1530dec795776cb34059e070ea26f91f9a44f72b494b4d68978e684d31534eb10a96f9e04806689129b58b7ac38cb5dc7a05ffc330c1df10295bae72272d0fa164d70de724825e2bc62c5bdf005d1d4b66b883d6528d313e9342742af4a830fe28f7e39c49f1a3e8c6e0be49021ba4e97cb7bff911ff28b717c1f722e6df7ee43b746b64df8e1efca15f42468602f8ee7516131598e1f969fc33a457ba72071be57cdec4ac1c2fd3545ae5dd4fff7d36b1a05686a7bfe1e1f618193e15e8ca9144d9130b1251abce85ed90582205ddfd6072b7a4ef5c44a26ec3ffdd4ec2916eb38c07131738</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">这里需要密码</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 配置信息 </tag>
            
            <tag> configuration </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2021/09/13/hello-world/"/>
      <url>/2021/09/13/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><p>[toc]</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
